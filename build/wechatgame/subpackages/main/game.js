window.__require=function t(e,n,o){function r(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AniUtil:[function(t,e,n){"use strict";cc._RF.push(e,"e51ebQiMxlHk5J6Gc5jaRvq","AniUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.AniUtil=void 0;var o=t("../common/effect/SpriteToHome"),r=t("../game/common/UIManager"),i=t("../game/GameUtils"),a=t("./Utils"),c=function(){function t(){}return t.JumpTo2=function(t,e,n,o,c,s,l){void 0===n&&(n=300),void 0===o&&(o=1),void 0===c&&(c=1),void 0===s&&(s=!1);var u=t.convertToWorldSpaceAR(cc.v2(0,0)),f=cc.v2(u.x,e.y),p=new cc.Node("skin_x");p.position=f,r.ui.addEffectAR(p);var h=new cc.Node("skin_y");h.position=cc.v2(0,u.y-e.y),h.parent=p;var d=cc.instantiate(t);d.active=!0,d.scale=o,d.position=cc.v2(0,0),d.parent=h;var g=3,y=function(){--g<=0&&(l&&l(),s&&i.GameUtils.addEffBoom(e),a.Utils.removeNode(p))},v=p.x+(e.x-f.x),b=h.y<0?n:h.y+n;cc.tween(p).to(.5,{x:v}).call(function(){y()}).start(),cc.tween(h).to(.25,{y:b},{easing:cc.easing.sineOut}).to(.25,{y:0},{easing:cc.easing.sineIn}).call(function(){y()}).start(),cc.tween(d).to(.5,{scale:c}).call(function(){y()}).start()},t.JumpTo=function(t,e,n,o,i){void 0===n&&(n=1),void 0===i&&(i=!1);var a=t.convertToWorldSpaceAR(cc.v2(0,0)),c=cc.v2(a.x,e.y),s=cc.instantiate(t);s.position=cc.v2(0,a.y-e.y),s.scale=n;var l=new cc.Node("skin");l.addChild(s),l.position=c,r.ui.addEffectAR(l);var u=2,f=function(){--u<=0&&(o&&o(),l.removeFromParent())},p=l.x+(e.x-c.x),h=s.y<0?300:s.y+300;cc.tween(l).to(.6,{x:p}).call(function(){f()}).start(),i?cc.tween(s).to(.3,{y:h},{easing:cc.easing.sineOut}).to(.3,{y:-50,scale:1},{easing:cc.easing.sineIn}).to(.2,{y:10,scale:1},{easing:cc.easing.sineOut}).to(.15,{y:0,scale:1},{easing:cc.easing.sineOut}).call(function(){f()}).start():cc.tween(s).to(.3,{y:h},{easing:cc.easing.sineOut}).to(.3,{y:0,scale:1},{easing:cc.easing.sineIn}).call(function(){f()}).start()},t.createEffectSpriteHome=function(t,e,n,r,i,c){void 0===i&&(i=5),void 0===c&&(c=1);for(var s=i,l=t.convertToWorldSpaceAR(cc.v2(0,0)),u=e.convertToWorldSpaceAR(new cc.Vec2(0,0)),f=0;f<s;f++){var p=a.Utils.randomInt(0,300);setTimeout(function(){var t=a.Utils.randomInt(0,n.length),e=n[t];o.default.create(e,cc.v2(l.x,l.y),u,!1,r,c)},p)}},t.aniWillShow=function(t){t.opacity=0,t.scale=.7},t.aniShow=function(t,e){t.stopAllActions(),t.scale=.3,cc.tween(t).to(.3,{opacity:255,scale:1},{easing:cc.easing.backOut}).call(function(){e&&e()}).start()},t.aniHide=function(t,e){t.stopAllActions(),cc.tween(t).to(.3,{opacity:0,scale:.3},{easing:cc.easing.sineOut}).call(function(){e&&e()}).start()},t.aniShaking=function(t,e){void 0===e&&(e=!0),t.stopAllActions(),t.angle=0,e?cc.tween(t).repeatForever(cc.tween(t).to(.1,{angle:-8},{easing:cc.easing.sineOut}).to(.1,{angle:5},{easing:cc.easing.sineOut}).to(.1,{angle:-3},{easing:cc.easing.sineOut}).to(.1,{angle:1.5},{easing:cc.easing.sineOut}).to(.1,{angle:0},{easing:cc.easing.sineOut}).delay(.5)).start():cc.tween(t).to(.1,{angle:-8},{easing:cc.easing.sineOut}).to(.1,{angle:5},{easing:cc.easing.sineOut}).to(.1,{angle:-3},{easing:cc.easing.sineOut}).to(.1,{angle:1.5},{easing:cc.easing.sineOut}).to(.1,{angle:0},{easing:cc.easing.sineOut}).delay(.5).start()},t.aniHeart=function(t,e,n){void 0===e&&(e=.2),t.stopAllActions(),t.angle=0,cc.tween(t).repeatForever(cc.tween(t).to(n?e:e/2,{scale:1.2},{easing:cc.easing.sineOut}).to(e,{scale:1},{easing:cc.easing.sineOut}).delay(n?0:.5)).start()},t.aniHeartHappy=function(t){t.stopAllActions();var e=t.y,n=t.y+30;cc.tween(t).repeatForever(cc.tween(t).to(.1,{scaleX:1.1,scaleY:.8},{easing:cc.easing.sineOut}).to(.1,{scaleX:1,scaleY:1,y:n},{easing:cc.easing.sineOut}).to(.1,{scaleX:1,scaleY:1,y:e},{easing:cc.easing.sineIn}).to(.1,{scaleX:1.1,scaleY:.8},{easing:cc.easing.sineOut}).to(.1,{scaleX:1,scaleY:1},{easing:cc.easing.sineIn}).delay(.2)).start()},t.aniDou=function(t,e){cc.tween(t).to(.1,{scaleY:1.4,scaleX:.7},{easing:cc.easing.sineOut}).to(.05,{scaleY:.9,scaleX:1.1},{easing:cc.easing.sineOut}).to(.08,{scaleY:1.1,scaleX:.9},{easing:cc.easing.sineOut}).to(.08,{scaleY:1,scaleX:1},{easing:cc.easing.sineOut}).call(function(){e&&e()}).start()},t.aniShakeHead=function(t,e){cc.tween(t).to(.05,{x:-6},{easing:cc.easing.sineOut}).to(.08,{x:6},{easing:cc.easing.sineOut}).to(.07,{x:-5},{easing:cc.easing.sineOut}).to(.06,{x:4},{easing:cc.easing.sineOut}).to(.05,{x:-3},{easing:cc.easing.sineOut}).to(.04,{x:2},{easing:cc.easing.sineOut}).to(.03,{x:-1},{easing:cc.easing.sineOut}).to(.02,{x:0},{easing:cc.easing.sineOut}).call(function(){e&&e()}).start()},t.aniUpDown=function(t,e,n){if(void 0===e&&(e=.5),void 0===n&&(n=20),cc.isValid(t)){t.stopAllActions();var o=cc.v2(t.x,t.y);cc.tween(t).repeatForever(cc.tween(t).to(e,{y:o.y+n}).to(e,{y:o.y})).start()}},t.rotation=function(t,e){void 0===e&&(e=.5),cc.isValid(t)&&(t.stopAllActions(),cc.tween(t).repeatForever(cc.tween(t).to(e,{angle:360}).to(0,{angle:0})).start())},t}();n.AniUtil=c,cc._RF.pop()},{"../common/effect/SpriteToHome":"SpriteToHome","../game/GameUtils":"GameUtils","../game/common/UIManager":"UIManager","./Utils":"Utils"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"a4aafbJat5JYKLldpFrdTPc","AudioManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.sd=void 0;var i=t("../utils/logger"),a=function(){function t(){this.soundLib={},this.audioIds={},this.bgmVolume=null,this.sfxVolume=null,this.bgmAudioID=null,this.curBGMUrl=null,this._bgmEnabled=!0,this._sfxEnabled=!0}return Object.defineProperty(t.prototype,"sfxEnabled",{get:function(){return this._sfxEnabled},set:function(t){this._sfxEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgmEnabled",{get:function(){return this._bgmEnabled},set:function(t){this._bgmEnabled=t},enumerable:!1,configurable:!0}),t.prototype.init=function(){cc.log("audio init"),this.curBGMUrl=null,this.bgmVolume=.2,this.sfxVolume=1,this.bgmAudioID=-1,this._bgmEnabled=!0,this._sfxEnabled=!0},t.prototype.playBGM=function(t,e){this.curBGMUrl&&this.curBGMUrl==t&&this.bgmAudioID&&!e||(this.curBGMUrl=t,this._bgmEnabled&&(this.stopBGM(),cc.resources.load(t,function(e,n){this.curBGMUrl==t?(cc.audioEngine.stopAll(),this.bgmAudioID=cc.audioEngine.play(n,!0,this.bgmVolume)):console.log("\u64ad\u653e\u80cc\u666f\u97f3\u4e50\u5931\u8d25:",e)}.bind(this))))},t.prototype.stopBGM=function(){this.bgmAudioID>=0&&(cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=null)},t.prototype.preloadAudioClip=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return this._sfxEnabled?(cc.resources.preload("sounds/"+t,cc.AudioClip),[2]):[2]})})},t.prototype.playSFX=function(t,e,n,o,r,a){var c=this;if(void 0===e&&(e=this.sfxVolume),void 0===n&&(n=".mp3"),void 0===o&&(o=!1),void 0===r&&(r=!1),this._sfxEnabled)if(this.soundLib[""+t])cc.audioEngine.play(this.soundLib[""+t],o,e),a&&a();else if(r){if(!t.startsWith("https://"))return void(a&&a());cc.assetManager.loadRemote(t,{ext:n},function(n,r){if(n)i.Logger.debug(n);else{var s=cc.audioEngine.play(r,o,e);c.audioIds[t]=s}a&&a()})}else cc.resources.load(t,function(n,r){if(n)i.Logger.debug(n);else{var s=cc.audioEngine.play(r,o,e);c.soundLib[""+t]=r,c.audioIds[t]=s}a&&a()});else a&&a()},t.prototype.stopSfxByUrl=function(t){var e=this.audioIds[t];null!=e&&cc.audioEngine.stop(e)},t.prototype.stopSFX=function(t){i.Logger.debug("audioId",t),null!=t&&cc.audioEngine.stop(t)},t.prototype.getSFXEnabled=function(){return this.sfxEnabled},t.prototype.getBGMEnabled=function(){return this.bgmEnabled},t.prototype.pauseBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},t.prototype.resumeBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},t.prototype.uncache=function(t){var e=cc.url.raw(t);cc.audioEngine.uncache(e),this.soundLib[""+t]=void 0},t.prototype.uncacheAll=function(){cc.audioEngine.uncacheAll(),this.soundLib={}},t.prototype.pauseAll=function(){i.Logger.debug("Pause All Sound"),cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){i.Logger.debug("Resum All Sound"),cc.audioEngine.resumeAll()},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.clean=function(){this.stopAll(),this.uncacheAll(),this.curBGMUrl=null,this.bgmAudioID=-1},t.Instance=new t,t}();n.default=a,n.sd=a.Instance,cc._RF.pop()},{"../utils/logger":"logger"}],Ball_MainScene:[function(t,e,n){"use strict";cc._RF.push(e,"4ef50J9y+JBl46mZn7sNPUY","Ball_MainScene");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/AudioManager"),l=t("../../common/SceneManager"),u=t("./bl_Config"),f=t("./bl_Logic"),p=t("./bl_top"),h=cc._decorator,d=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logic=null,e.top_content=null,e.topPre=null,e}var n;return r(e,t),n=e,e.GetType=function(){return l.SceneType.Stage},e.prototype.getType=function(){return n.GetType()},e.prototype.getNode=function(){return this.node},e.prototype.initScene=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.logic.init()];case 1:return t.sent(),s.sd.playBGM("sounds/bg",!0),[2]}})})},e.prototype.removeScene=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2]})})},e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.addTop()},e.prototype.addTop=function(){var t=cc.instantiate(this.topPre);t.parent=this.top_content,t.y=this.node.height/2-t.height/2,u.bc.top=this.top=t.getComponent(p.default)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.Prefab_Name="prefab/game/scene/main",i([g(f.default)],e.prototype,"logic",void 0),i([g(cc.Node)],e.prototype,"top_content",void 0),i([g(cc.Prefab)],e.prototype,"topPre",void 0),n=i([d],e)}(l.GameScene);n.default=y,cc._RF.pop()},{"../../common/AudioManager":"AudioManager","../../common/SceneManager":"SceneManager","./bl_Config":"bl_Config","./bl_Logic":"bl_Logic","./bl_top":"bl_top"}],Ball_Main:[function(t,e,n){"use strict";cc._RF.push(e,"6fb231fm49LNrCr/i4IuOWK","Ball_Main");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../game/ui/bl_Config"),l=t("../game/common/BundleResourceList"),u=t("../game/common/UIManager"),f=t("../game/loading/LoadingScene"),p=t("../lang/LanguageData"),h=t("../utils/SDKManager"),d=t("../utils/Utils"),g=t("./AudioManager"),y=t("./comp/HurryLoading"),v=t("./comp/SceneLoadingUI"),b=t("./consts/GlobalDefines"),_=t("./DataManager"),m=t("./SceneManager"),w=cc._decorator,S=w.ccclass,M=w.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiNode=null,e.hurryLoading=null,e.uiCamera=null,e.smNode=null,e.resList=null,e.config=null,e.timeOffset_sec=0,e.timeOffset_msec=0,e.timeout_crossday=void 0,e.isInited=!1,e.entryData=void 0,e}var n;return r(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onShow=function(t){return a(this,void 0,void 0,function(){return c(this,function(){return this.entryData=t,g.sd.resumeAll(),this.isInited,[2]})})},e.prototype.onHide=function(){return a(this,void 0,void 0,function(){return c(this,function(){return g.sd.pauseAll(),[2]})})},e.prototype.pase=function(t){var e=this.config.json.language,n=e[t];for(var o in n){var r=n[o];console.log("\u5f00\u59cb\u89e3\u5bc6\u6587\u4ef6==>",r),n[o]=decodeURIComponent(atob(r)),console.log("\u89e3\u5bc6\u540e==>",n[o])}return e[t]},e.prototype.onLoad=function(){var t;switch(window.addEventListener("unhandledrejection",function(t){return t.preventDefault(),!0}),u.ui.onLoad(this.uiNode,this.hurryLoading),m.sm.onLoad(this.smNode),s.bc.country=h.sdk.ball_getCountry(),s.bc.country){case"2":t=this.pase("pt"),p.initSource("pt",t),s.bc.moneyAbbr="R$";break;case"10":t=this.pase("en"),p.initSource("en",t),s.bc.moneyAbbr="\xa3";break;case"11":t=this.pase("en"),p.initSource("en",t),s.bc.moneyAbbr="R";break;case"12":t=this.pase("en"),p.initSource("en",t),s.bc.moneyAbbr="\u20a6";break;case"13":t=this.pase("in"),p.initSource("in",t),s.bc.moneyAbbr="\u20b9";break;default:t=this.pase("en"),p.initSource("en",t),s.bc.moneyAbbr="$"}},e.prototype.start=function(){this.gameStart()},e.prototype.onShareMessageToFriend=function(){},e.prototype.gameStart=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.playtime=d.Utils.getCurTime(),n._instance=this,setTimeout(function(){u.ui.checkNode(),m.sm.node.getComponentInChildren(f.default).startLoading()},0),[2]})})},e.prototype.initGame=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return v.default.setProgress(0),[4,_.dm.onInit()];case 1:return t.sent(),v.default.setProgress(.6),d.Utils.waiting(0),v.default.setProgress(.7),d.Utils.waiting(0),v.default.setProgress(.75),d.Utils.waiting(0),v.default.setProgress(.8),u.ui.onInit(),d.Utils.waiting(0),v.default.setProgress(.85),g.sd.init(),d.Utils.waiting(0),v.default.setProgress(.9),d.Utils.waiting(0),this.registerCrossEvent(),[2]}})})},e.prototype.GetScreenWHRate=function(){var t=cc.view.getFrameSize();return t.width/t.height},e.prototype.getServerTime=function(){return Math.floor((new Date).getTime()/1e3)+this.timeOffset_sec},e.prototype.getServerTimeMsec=function(){return(new Date).getTime()+this.timeOffset_msec},e.prototype.timeCheck=function(t){var e=(new Date).getTime();return this.timeOffset_sec=t-Math.floor(e/1e3),this.timeOffset_msec=1e3*t-e,Math.abs(this.timeOffset_sec)<b.GlobalDefines.Second_Day},e.prototype.registerCrossEvent=function(){var t=this,e=this.getServerTimeMsec(),n=d.Utils.getDayBeginTime(e)/1e3+b.GlobalDefines.Second_Day-e/1e3+d.Utils.randomInt(0,60);clearTimeout(this.timeout_crossday),this.timeout_crossday=setTimeout(function(){t.onCrossDay()},1e3*n)},e.prototype.onCrossDay=function(){m.sm.switchScene(f.default)},i([M(cc.Node)],e.prototype,"uiNode",void 0),i([M(y.default)],e.prototype,"hurryLoading",void 0),i([M(cc.Camera)],e.prototype,"uiCamera",void 0),i([M(cc.Node)],e.prototype,"smNode",void 0),i([M(l.default)],e.prototype,"resList",void 0),i([M(cc.JsonAsset)],e.prototype,"config",void 0),n=i([S],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../game/common/BundleResourceList":"BundleResourceList","../game/common/UIManager":"UIManager","../game/loading/LoadingScene":"LoadingScene","../game/ui/bl_Config":"bl_Config","../lang/LanguageData":"LanguageData","../utils/SDKManager":"SDKManager","../utils/Utils":"Utils","./AudioManager":"AudioManager","./DataManager":"DataManager","./SceneManager":"SceneManager","./comp/HurryLoading":"HurryLoading","./comp/SceneLoadingUI":"SceneLoadingUI","./consts/GlobalDefines":"GlobalDefines"}],BasePanel:[function(t,e,n){"use strict";cc._RF.push(e,"6307aGkrx5FS5pt8QTsKdZJ","BasePanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utils/Utils"),c=t("./consts/GlobalDefines"),s=cc._decorator,l=s.ccclass,u=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_back=null,e}return r(e,t),e.prototype.onLoad=function(){this.btn_back&&(this.btn_back.scale=0)},e.prototype.start=function(){this.initBackBtn()},e.prototype.initBackBtn=function(){if(this.btn_back){var t=c.GlobalDefines.MenuButtonLogic.top,e=c.GlobalDefines.MenuButtonLogic.height;this.btn_back.y=c.GlobalDefines.ScreenHeight/2-t-e/2,this.btn_back.x=-330,cc.tween(this.btn_back).to(.3,{scale:1},{easing:cc.easing.backOut}).start()}},e.prototype.onDisable=function(){},e.prototype.close=function(){a.Utils.removeNode(this.node)},e.prototype.onBtnBackClicked=function(){a.Utils.btnLock()||this.close()},i([u(cc.Node)],e.prototype,"btn_back",void 0),i([l],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../utils/Utils":"Utils","./consts/GlobalDefines":"GlobalDefines"}],BundleResourceList:[function(t,e,n){"use strict";cc._RF.push(e,"7e07cozcFZNV69G9CojIjlx","BundleResourceList");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab_eff_boom=null,e}return r(e,t),i([s(cc.Prefab)],e.prototype,"prefab_eff_boom",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],BundleResource:[function(t,e,n){"use strict";cc._RF.push(e,"adca97uZdZJs7CuuM2zT5ky","BundleResource");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneAsset=null,e}return r(e,t),i([s(cc.SceneAsset)],e.prototype,"sceneAsset",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Coin:[function(t,e,n){"use strict";cc._RF.push(e,"6cba59FrPtA0YaVzatN4FVJ","Coin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ulblNum=null,e.uImgBg=null,e}return r(e,t),e.prototype.onLoad=function(){this.ulblNum.string="-"},e.prototype.init=function(t,e,n){var o=this,r="images/coin/"+e;cc.resources.load(r,cc.SpriteFrame,function(t,e){t?console.error("url:",r,"/err:"):(o.uImgBg.spriteFrame=e,n&&n())}),this.ulblNum.string=""+e},e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"ulblNum",void 0),i([s(cc.Sprite)],e.prototype,"uImgBg",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e0d7d5FTGJIwJ5DrVKvwSzx","DataManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.dm=void 0;var i=t("../game/data/PlayerInfo"),a=function(){function t(){this.player=new i.default}return Object.defineProperty(t,"ins",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.player.init(),[2]})})},t.prototype.onLogin=function(){},t}();n.default=a,n.dm=a.ins,cc._RF.pop()},{"../game/data/PlayerInfo":"PlayerInfo"}],DataModule:[function(t,e,n){"use strict";cc._RF.push(e,"a9783XxZiJAGobx47+4NsqL","DataModule"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.mData=null}return t.prototype.parseData=function(t){this.mData=t},t}();n.default=o,cc._RF.pop()},{}],Define:[function(t,e,n){"use strict";cc._RF.push(e,"b316ef97uJJrLtjj1+6n+lc","Define"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(t){t.MOVE_COIN="move_coin",t.MOVE_END="move_end",t.CHECK_MERGE="check_merge",t.MERGE_COIN="merge_coin",t.MOVE_CHECK_FAIL="move_check_fail"}(n.EventType||(n.EventType={})),cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"ea7fbBwaBVK96i8sl/y0ydr","EventManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.eventManager=n.GameEvent=n.EventManager=void 0;var i=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.dispatch=function(t,e){this.dispatchEvent(new a(t,e))},e.Instance=new e,e}(cc.EventTarget);n.EventManager=i;var a=function(t){function e(e,n){void 0===n&&(n=null);var o=t.call(this,e,!0)||this;return o.data=null,o.type="",o.type=e,o.data=n,o}return r(e,t),e}(cc.Event.EventCustom);n.GameEvent=a,n.eventManager=i.Instance,cc._RF.pop()},{}],GameConsts:[function(t,e,n){"use strict";cc._RF.push(e,"3605dN1XcxBhpTrTk3PxhYo","GameConsts"),Object.defineProperty(n,"__esModule",{value:!0}),n.Slot_Cell_State=n.Target_Cell_State=void 0,function(t){t[t.lock=0]="lock",t[t.current=1]="current",t[t.complete=2]="complete",t[t.final=3]="final"}(n.Target_Cell_State||(n.Target_Cell_State={})),function(t){t[t.lock=0]="lock",t[t.nextVideoLock=1]="nextVideoLock",t[t.videoLock=2]="videoLock",t[t.unlockIng=3]="unlockIng",t[t.openIng=4]="openIng",t[t.open=5]="open"}(n.Slot_Cell_State||(n.Slot_Cell_State={})),cc._RF.pop()},{}],GameModule:[function(t,e,n){"use strict";cc._RF.push(e,"64566mmcFVMhZE7goFc3ntd","GameModule");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.gameModule=void 0;var i=t("../manager/Define"),a=t("../util/EventManager"),c=t("../util/NewUtils"),s=function(t){function e(){var e=t.call(this)||this;return e.slotData=[[1,1,0,0,0,0,0,0,0,0],[2,2,2,0,0,0,0,0,0,0],[1,1,2,2,0,0,0,0,0,0],[2,2,2,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],e.curSelectSlotIdx=-1,e.curSelectCoinIdxs=[],e.moveLock=!1,e.mergeLock=0,e.produceLock=0,e}return r(e,t),e.prototype.parseData=function(e){t.prototype.parseData.call(this,e)},Object.defineProperty(e.prototype,"canOperate",{get:function(){return this.moveLock?(console.log("\u6b63\u5728\u8fdb\u884c\u79fb\u52a8\u64cd\u4f5c"),!1):0!==this.mergeLock?(console.log("\u6b63\u5728\u8fdb\u884c\u5408\u6210\u64cd\u4f5c"),!1):0===this.produceLock||(console.log("\u6b63\u5728\u53d1\u653e\u7b79\u7801\u64cd\u4f5c"),!1)},enumerable:!1,configurable:!0}),e.prototype.getFirstVaildNumBySlotIdx=function(t){for(var e=this.slotData[t],n=-1,o=-1,r=10,i=9;i>=0;i--)if(0!==e[i]){n=e[i],o=i,r=9-i;break}return{vaildNum:n,vaildIdx:o,vaildSpace:r}},e.prototype.getCurSelectSlotInfo=function(){if(-1===this.curSelectSlotIdx)return null;var t=this.curSelectCoinIdxs.length,e=this.slotData[this.curSelectSlotIdx][this.curSelectCoinIdxs[0]];return{slotIdx:this.curSelectSlotIdx,cnt:t,num:e}},e.prototype.resetSelectStatus=function(){n.gameModule.curSelectSlotIdx=-1,n.gameModule.curSelectCoinIdxs=[]},e.prototype.tidySlotData=function(t){for(var e=0;e<t.srcIdxArr.length;e++)this.slotData[this.curSelectSlotIdx][t.srcIdxArr[e]]=0,this.slotData[t.tarSlotIdx][t.tarIdxArr[e]]=t.numType;a.eventManager.dispatch(i.EventType.MOVE_END,t),this.resetSelectStatus(),a.eventManager.dispatch(i.EventType.CHECK_MERGE)},e.prototype.checkCanMerge=function(){for(var t=[],e=0;e<8;e++)this.checkCanMergeBySlot(e)&&t.push(e);return t},e.prototype.checkCanMergeBySlot=function(t){for(var e=this.slotData[t],n=0;n<10;n++){if(0===e[n])return!1;if(0!==n&&e[n]!==e[n-1])return!1}return!0},e.prototype.getMaxValue=function(){for(var t=0,e=0;e<this.slotData.length;e++)for(var n=0;n<this.slotData[e].length;n++)this.slotData[e][n]>t&&(t=this.slotData[e][n]);return t},e.prototype.getMinValue=function(){for(var t=-1,e=0;e<this.slotData.length;e++)for(var n=0;n<this.slotData[e].length;n++)-1===t&&0!==this.slotData[e][n]&&(t=this.slotData[e][n]),this.slotData[e][n]<t&&0!==this.slotData[e][n]&&(t=this.slotData[e][n]);return t},e.prototype.getSpaceBySlot=function(t){if(this.slotData[t]){for(var e=0;e<this.slotData[t].length;e++)if(0===this.slotData[t][e])return 10-e;return 0}},e.prototype.getSpace=function(){for(var t=0,e=0;e<8;e++)t+=this.getSpaceBySlot(e);return t},e.prototype.produceNewCoinData=function(){var t=this.getMaxValue(),e=this.getSpace();if(t>=15)console.warn("\u5f53\u524d\u5df2\u5408\u621015");else{if(0!==e)return t<5?this.produceStrategyOne(t,e):t<10?this.produceStrategyTwo(t,e):t<14?this.produceStrategyThree(t,e):t<15?this.produceStrategyFour(t,e):void 0;console.warn("\u6ca1\u6709\u5269\u4f59\u7a7a\u95f4\uff0c\u65e0\u6cd5\u751f\u6210\u65b0\u6570\u5b57")}},e.prototype.produceStrategyOne=function(t,e){console.log("\u7b56\u75651:<5");var n=Math.min(1,this.getMinValue()),o=Math.floor(Math.min(25,.6*e));0===o&&(o=1);var r=t-1>0?t-1:1,i=o>=4?4:o;i=Math.min(i,r-n+1);for(var a=c.default.randomIntArrFromSection(i,n,r),s=c.default.randomIntArrFromArr(o,a),l=[],u=0;u<8;u++){var f=this.getSpaceBySlot(u);l.push(f)}var p=[[],[],[],[],[],[],[],[]];do{var h=c.default.randomIntInclusive(0,7);0!==l[h]&&(p[h].push(s.shift()),l[h]--)}while(s.length>0);return p},e.prototype.produceStrategyTwo=function(t,e){console.log("\u7b56\u75652:5<=x<10");var n=Math.min(3,this.getMinValue()),o=Math.floor(Math.min(22,.6*e));0===o&&(o=1);var r=Math.min(t-1,7),i=o>=3?3:o;i=Math.min(i,r-n+1);for(var a=c.default.randomIntArrFromSection(i,n,r),s=c.default.randomIntArrFromArr(o,a),l=[],u=0;u<8;u++){var f=this.getSpaceBySlot(u);l.push(f)}var p=[[],[],[],[],[],[],[],[]];do{var h=c.default.randomIntInclusive(0,7);0!==l[h]&&(p[h].push(s.shift()),l[h]--)}while(s.length>0);return p},e.prototype.produceStrategyThree=function(t,e){console.log("\u7b56\u75653: 10<x<14");var n=Math.min(8,this.getMinValue()),o=Math.floor(Math.min(20,.6*e));0===o&&(o=1);var r=Math.min(t-1,11),i=o>=3?3:o;i=Math.min(i,r-n+1);for(var a=c.default.randomIntArrFromSection(i,n,r),s=c.default.randomIntArrFromArr(o,a),l=[],u=0;u<8;u++){var f=this.getSpaceBySlot(u);l.push(f)}var p=[[],[],[],[],[],[],[],[]];do{var h=c.default.randomIntInclusive(0,7);0!==l[h]&&(p[h].push(s.shift()),l[h]--)}while(s.length>0);return p},e.prototype.produceStrategyFour=function(t,e){console.log("\u7b56\u75651:<15");var n=Math.min(11,this.getMinValue()),o=Math.floor(Math.min(25,.8*e));0===o&&(o=1);for(var r=Math.min(t-1,11),i=o>=3?3:o,a=c.default.randomIntArrFromSection(i,n,r),s=c.default.randomIntArrFromArr(o,a),l=[],u=0;u<8;u++){var f=this.getSpaceBySlot(u);l.push(f)}var p=[[],[],[],[],[],[],[],[]];do{var h=c.default.randomIntInclusive(0,7);0!==l[h]&&(p[h].push(s.shift()),l[h]--)}while(s.length>0);return p},e.prototype.mergeProduceData=function(t){for(var e=0;e<8;e++)for(var n=c.default.deepClone(t[e]),o=0;o<10;o++)if(0===this.slotData[e][o]&&n.length>0){var r=n.shift();this.slotData[e][o]=r}},e.prototype.tidyData=function(){for(var t={},e=0;e<this.slotData.length;e++)for(var n=0;n<10;n++)0!==this.slotData[e][n]&&(t[""+this.slotData[e][n]]?t[""+this.slotData[e][n]]+=1:t[""+this.slotData[e][n]]=1);console.log("dataMap:",t);var o=[];for(var r in t){t[r]>10&&(t[r]=10);var i=[];for(e=0;e<10;e++)e<=t[r]-1?i.push(Number(r)):i.push(0);o.push(i)}if(o.sort(function(t,e){return e[0]-t[0]}),o.length>8)this.slotData=o.slice(0,7);else{for(e=0;e<8;e++)o.length<=e&&o.push([0,0,0,0,0,0,0,0,0,0]);this.slotData=o}console.log("\u6574\u7406\u540e\u7684slotData:",o,this.slotData)},e}(t("./DataModule").default);n.default=s,n.gameModule=new s,cc._RF.pop()},{"../manager/Define":"Define","../util/EventManager":"EventManager","../util/NewUtils":"NewUtils","./DataModule":"DataModule"}],GameUtils:[function(t,e,n){"use strict";cc._RF.push(e,"74ad3RfvBFIzYEhcaj3J1Rx","GameUtils");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameUtils=void 0;var i=t("../common/AudioManager"),a=t("../common/comp/toast/Toast"),c=t("../common/Ball_Main"),s=t("../utils/Utils"),l=t("./common/UIManager"),u=function(){function t(){}return Object.defineProperty(t,"popLayer",{get:function(){return l.ui.getLayer(l.UILayer.Panel)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"effectLayer",{get:function(){return l.ui.getLayer(l.UILayer.Effect)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loadingLayer",{get:function(){return l.ui.getLayer(l.UILayer.LoadingBar)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bannerLayer",{get:function(){return l.ui.getLayer(l.UILayer.Banner)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"xLayer",{get:function(){return l.ui.getLayer(l.UILayer.X)},enumerable:!1,configurable:!0}),t.popView=function(t,e){void 0===e&&(e=!1),l.ui.popView(t,e)},t.addEffectAR=function(t){l.ui.addEffectAR(t)},t.playClick=function(){this.playSFX("click")},t.playDrop=function(){this.playSFX("drop")},t.playCompose=function(){this.playSFX("compose")},t.playFlyCoin=function(){this.playSFX("rise_1")},t.playSFX=function(t,e){void 0===e&&(e=".mp3"),i.sd.playSFX("sounds/"+t,1,e)},t.showToast=function(t,e){a.default.show(l.ui.getLayer(l.UILayer.Tip),t,e||a.TipIco.Tip)},t.showToast_noCoin=function(){this.showToast("\u91d1\u5e01\u4e0d\u8db3",a.TipIco.Coin)},t.addEffBoom=function(e){var n=cc.instantiate(c.default.instance.resList.prefab_eff_boom);n.position=e,t.addEffectAR(n),setTimeout(function(){s.Utils.removeNode(n)},3e3)},t.loadConfigFromAli=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.createNodeByFrame=function(t,e,n){var o=new cc.Node,r=new cc.Node;r.scale=e,r.parent=o;var i=r.addComponent(cc.Sprite);return i.spriteFrame=t,i.sizeMode=cc.Sprite.SizeMode.RAW,n&&s.Utils.updateNodeSpriteFrame(n,r,!1),o},t}();n.GameUtils=u,cc._RF.pop()},{"../common/AudioManager":"AudioManager","../common/Ball_Main":"Ball_Main","../common/comp/toast/Toast":"Toast","../utils/Utils":"Utils","./common/UIManager":"UIManager"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"650a2ldzTZM6Joa8EAO498E","Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../dataModule/GameModule"),l=t("../manager/Define"),u=t("../manager/Uimanager"),f=t("../util/EventManager"),p=t("./Slot"),h=cc._decorator,d=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uBoxSlot=null,e.uBtnProduce=null,e.uBtnTidyUp=null,e.uBtnMerge=null,e.slots=[],e}return r(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.uBtnMerge.on(cc.Node.EventType.TOUCH_END,this.onMerge,this),this.uBtnProduce.on(cc.Node.EventType.TOUCH_END,this.onProduce,this),this.uBtnTidyUp.on(cc.Node.EventType.TOUCH_END,this.onTidy,this),f.eventManager.on(l.EventType.CHECK_MERGE,this.updateBtn,this),[4,this.addSlot()];case 1:return t.sent(),this.formatSlotData(),this.updateBtn(),[2]}})})},e.prototype.start=function(){},e.prototype.addSlot=function(){return a(this,void 0,void 0,function(){var t,e,n,o,r,i,a,s,l;return c(this,function(c){switch(c.label){case 0:e=212,n=(608-4*(t=116))/3,o=this.uBoxSlot.height-2*e+e,r=0,c.label=1;case 1:return r<8?(i=Math.floor(r/4),a=r%4,[4,u.uimanager.loadPrefab("prefab/merge/slot")]):[3,4];case 2:s=c.sent(),l=cc.instantiate(s),this.uBoxSlot.addChild(l),l.x=a*t+n*a,l.y=-e-o*i,this.slots.push(l),c.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.formatSlotData=function(){for(var t=0;t<8;t++)this.slots[t].getComponent(p.default).formatData(t,s.gameModule.slotData[t]);f.eventManager.dispatch(l.EventType.CHECK_MERGE)},e.prototype.updateBtn=function(){var t=s.gameModule.checkCanMerge();this.uBtnMerge.active=t.length>0},e.prototype.onMerge=function(){s.gameModule.canOperate&&(f.eventManager.dispatch(l.EventType.MERGE_COIN),this.uBtnMerge.active=!1)},e.prototype.onProduce=function(){if(s.gameModule.canOperate){for(var t=[],e=0;e<8;e++)for(var n=0;n<10;n++){if(0===s.gameModule.slotData[e][n]){t.push(n);break}9===n&&t.push(9)}var o=s.gameModule.produceNewCoinData();for(e=0;e<this.slots.length;e++)this.slots[e].getComponent(p.default).produce(o[e],this.node.convertToWorldSpaceAR(this.uBtnProduce.getPosition()),t[e]);s.gameModule.mergeProduceData(o),f.eventManager.dispatch(l.EventType.CHECK_MERGE)}},e.prototype.onTidy=function(){s.gameModule.canOperate&&(s.gameModule.tidyData(),this.formatSlotData())},i([g(cc.Node)],e.prototype,"uBoxSlot",void 0),i([g(cc.Node)],e.prototype,"uBtnProduce",void 0),i([g(cc.Node)],e.prototype,"uBtnTidyUp",void 0),i([g(cc.Node)],e.prototype,"uBtnMerge",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../dataModule/GameModule":"GameModule","../manager/Define":"Define","../manager/Uimanager":"Uimanager","../util/EventManager":"EventManager","./Slot":"Slot"}],GlobalDefines:[function(t,e,n){"use strict";cc._RF.push(e,"dbdbbGrYxVIuKj0/0ClKX3D","GlobalDefines"),Object.defineProperty(n,"__esModule",{value:!0}),n.LoadStatus=n.GlobalDefines=void 0;var o=function(){function t(){}return Object.defineProperty(t,"ScreenWidth",{get:function(){return this.Design_Width},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ScreenHeight",{get:function(){var t=this.Design_Width/this.WindowWidth;return this.WindowHeight*t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SafeAreaHeight",{get:function(){return this.ScreenHeight-this.MenuButtonLogic.top-this.MenuButtonLogic.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"wsRate",{get:function(){return this.WindowWidth/this.ScreenWidth},enumerable:!1,configurable:!0}),t.Second_Day=86400,t.isIos=!0,t.PixelRatio=2,t.WindowHeight=667,t.WindowWidth=375,t.MenuButtonLogic={width:174,height:64,top:32,right:730,bottom:80,left:556},t.SDKVersion="",t.platform="",t.Design_Width=750,t.Design_Height=1334,t}();n.GlobalDefines=o,function(t){t[t.Doing=-1]="Doing",t[t.Success=0]="Success",t[t.GameOut=1]="GameOut"}(n.LoadStatus||(n.LoadStatus={})),cc._RF.pop()},{}],GlobalEvents:[function(t,e,n){"use strict";cc._RF.push(e,"02d77ioYsBB467lgK8KcnX9","GlobalEvents");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.EventChangeTop=n.EventBallClick=n.EventOnDataChange=n.EventOnSwitchScene=void 0;var i=function(t){function e(){return t.call(this,e.NAME,!0)||this}return r(e,t),e.NAME="EventOnSwitchScene",e}(cc.Event.EventCustom);n.EventOnSwitchScene=i;var a=function(t){function e(n){var o=t.call(this,e.NAME,!0)||this;return o.obj=n,o}return r(e,t),e.NAME="EventOnDataChange",e}(cc.Event.EventCustom);n.EventOnDataChange=a;var c=function(t){function e(n,o){var r=t.call(this,e.NAME,!0)||this;return r.id=n,r.rId=o,r}return r(e,t),e.NAME="EventBallClick",e}(cc.Event.EventCustom);n.EventBallClick=c;var s=function(t){function e(n,o){var r=t.call(this,e.NAME,!0)||this;return r.mtype=n,r.num=o,r}return r(e,t),e.NAME="EventChangeTop",e}(cc.Event.EventCustom);n.EventChangeTop=s,cc._RF.pop()},{}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"e5a2eiI6s1HF571App3AA0M","Global");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalEvent=n.Global=void 0;var i=function(t){function e(){return t.call(this)||this}return r(e,t),e.Instance=new e,e}(cc.EventTarget);n.Global=i,n.GlobalEvent=i.Instance,cc._RF.pop()},{}],HurryLoading:[function(t,e,n){"use strict";cc._RF.push(e,"5f7afcopOxGz5p29l+d+sXS","HurryLoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_loading=null,e.timeOut=-1,e}return r(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.lb_loading.node.stopAllActions(),this.node.active=!1},e.prototype.onEnable=function(){var t=this;this.lb_loading.node.stopAllActions(),cc.tween(this.lb_loading.node).delay(.5).call(function(){t.lb_loading.string="\u52a0 \u8f7d \u4e2d . "}).delay(.5).call(function(){t.lb_loading.string="\u52a0 \u8f7d \u4e2d . . "}).delay(.5).call(function(){t.lb_loading.string="\u52a0 \u8f7d \u4e2d . . ."}).union().repeatForever().start()},e.prototype.onDisable=function(){clearTimeout(this.timeOut)},i([s(cc.Label)],e.prototype,"lb_loading",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Jumpjump3d:[function(t,e,n){"use strict";cc._RF.push(e,"71ed07UJHdNSa3l8ryArFta","Jumpjump3d");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EventOnBoom=void 0;var s=t("../../game/GameUtils"),l=t("../../utils/Utils"),u=t("../Global"),f=function(t){function e(n){var o=t.call(this,e.NAME,!0)||this;return o.tType=n,o}return r(e,t),e.NAME="EventOnBoom",e}(cc.Event.EventCustom);n.EventOnBoom=f;var p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dx=0,e.dy=0,e.dz=170,e.rate=.45,e.groundLine=0,e.scale=1,e.icon=null,e.isFading=!1,e.curStatus=0,e.nextStatus=0,e.tWPos=void 0,e}var n;return r(e,t),n=e,e.createBySpr=function(t,e,n,o,r,i,s){return a(this,void 0,void 0,function(){var a,l;return c(this,function(){return a=new cc.Node,(l=a.addComponent(cc.Sprite)).sizeMode=cc.Sprite.SizeMode.RAW,l.spriteFrame=e,l.node.y=l.node.height/2,this._create(t,a,n,o,r,i,s),[2]})})},e.createByStr=function(t,e,n,o,r,i,s){return a(this,void 0,void 0,function(){var a,l;return c(this,function(){return(a=new cc.Node).color=cc.color(249,229,114,255),(l=a.addComponent(cc.Label)).fontSize=40,l.enableBold=!0,l.string=e,this._create(t,a,n,o,r,i,s),[2]})})},e._create=function(t,e,o,r,i,u,f){return a(this,void 0,void 0,function(){var a,p,h,d;return c(this,function(){return a=new cc.Node,(p=new cc.Node).y=r,p.scaleY=.2,p.scaleX=.3,p.color=cc.Color.BLACK,h=p.addComponent(cc.Sprite),t?(h.spriteFrame=t,p.opacity=90):p.opacity=0,a.addChild(p),a.addChild(e),d=a.addComponent(n),a.position=o,d.groundLine=r,d.scale=null==i?l.Utils.randomFloat(.8,1.2):i,d.tWPos=u,d.tType=f,s.GameUtils.addEffectAR(a),[2]})})},e.prototype.onLoad=function(){var t=this;this.dz=l.Utils.randomIntInclusive(this.dz/2,this.dz);var e=this.dz/this.rate;this.dx=l.Utils.randomIntInclusive(-e,e),this.dy=.6*l.Utils.randomIntInclusive(-e,e),this.node.scale=this.scale,this.icon=this.node.children[1];var n=l.Utils.randomFloat(.15,.25),o=l.Utils.randomFloat(.2,.4);cc.tween(this.node).by(o,{x:this.dx,y:this.dy},{easing:cc.easing.sineOut}).delay(n).call(function(){if(t.tWPos){var e=t.node.parent.convertToNodeSpaceAR(t.tWPos),n=t.node.scale;cc.tween(t.node).delay(.3).to(.4,{position:e,scale:.8*n}).call(function(){s.GameUtils.playFlyCoin(),u.GlobalEvent.dispatchEvent(new f(t.tType)),t.close()}).start()}else cc.tween(t.node).to(.15,{opacity:0}).call(function(){t.close()}).start()}).start()},e.prototype.jump=function(t,e){var n=l.Utils.randomFloat(.13,.19),o=Math.max(0,t-2*n);cc.tween(this.icon).to(n,{y:this.dz,angle:95*e,scale:1.5},{easing:cc.easing.sineOut}).to(n,{y:this.groundLine,angle:185*e,scale:1.3},{easing:cc.easing.sineIn}).to(o,{angle:0},{easing:cc.easing.sineOut}).start()},e.prototype.close=function(){l.Utils.removeNode(this.node)},n=i([h],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../../game/GameUtils":"GameUtils","../../utils/Utils":"Utils","../Global":"Global"}],LanguageData:[function(t,e,n){"use strict";function o(t){n.ready=!0,n._language=t}function r(t,e){o(t);var r=window;r.languages={},r.languages[n._language]=e}function i(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var o=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,o)}for(n=0;n<e.length;++n)e[n].updateLabel();var r=[];for(n=0;n<t.length;++n){var i=t[n].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,i)}for(n=0;n<r.length;++n){var a=r[n];a.node.active&&a.updateSprite()}}cc._RF.push(e,"49c46i7jj9HfLDrEiP0omdn","LanguageData"),Object.defineProperty(n,"__esModule",{value:!0}),n.updateSceneRenderers=n.t=n.initSource=n.init=n.ready=n._language=void 0,n._language="zh",n.ready=!1,n.init=o,n.initSource=r,n.t=function(t,e){var o=window;if(!o.languages)return t;var r=o.languages[n._language],i=t;if(!r||!r[t])return i;if(i=r[t],e){var a=i.matchAll(/{\d}/g);if(a){for(var c=[],s=0,l=a;s<l.length;s++){var u=l[s];c.push(u)}for(var f=0;f<e.length;f++){var p=c[f];p&&(i=i.replace(p[0],e[f]))}return i}}return i},n.updateSceneRenderers=i;var a=window;a.initSource=r,a._languageData={get language(){return n._language},init:function(t){o(t)},updateSceneRenderers:function(){i()}},cc._RF.pop()},{}],LoadingScene:[function(t,e,n){"use strict";cc._RF.push(e,"09589HoK21BH5rQwy41scZZ","LoadingScene");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/comp/SceneLoadingUI"),l=t("../../common/consts/GlobalDefines"),u=t("../../common/Ball_Main"),f=t("../../common/SceneManager"),p=t("../ui/Ball_MainScene"),h=cc._decorator,d=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_ver=null,e}var n;return r(e,t),n=e,e.GetType=function(){return f.SceneType.Loading},e.prototype.onLoad=function(){},e.prototype.startLoading=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.isInited=!1,f.sm.curScene=this,[4,this.initScene()];case 1:return t.sent(),[2]}})})},e.prototype.getNode=function(){return this.node},e.prototype.loadRes=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,s.default.preLoad()];case 1:return t.sent(),s.default.show(),[4,u.default.instance.initGame()];case 2:return t.sent(),e(l.LoadStatus.Success),[2]}})})})]})})},e.prototype.initScene=function(){return a(this,void 0,void 0,function(){var t,e=this;return c(this,function(n){switch(n.label){case 0:u.default.instance.isInited=!1,cc.debug.setDisplayStats(!1),t=l.LoadStatus.Doing,n.label=1;case 1:return[4,this.loadRes().then(function(e){t=e})];case 2:n.sent(),n.label=3;case 3:if(t==l.LoadStatus.Doing)return[3,1];n.label=4;case 4:return t==l.LoadStatus.GameOut?[2]:(setTimeout(function(){return a(e,void 0,void 0,function(){return c(this,function(){return f.sm.switchScene(p.default,void 0,!0),[2]})})},0),u.default.instance.isInited=!0,[2])}})})},e.prototype.getType=function(){return n.GetType()},e.prototype.removeScene=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2]})})},e.Prefab_Name="prefab/game/scene/loading_scene",i([g(cc.Label)],e.prototype,"lb_ver",void 0),n=i([d],e)}(f.GameScene);n.default=y,cc._RF.pop()},{"../../common/Ball_Main":"Ball_Main","../../common/SceneManager":"SceneManager","../../common/comp/SceneLoadingUI":"SceneLoadingUI","../../common/consts/GlobalDefines":"GlobalDefines","../ui/Ball_MainScene":"Ball_MainScene"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"aee9e3EK5VPOqFXZ4hHrUaV","LocalizedLabel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalizedLabel=void 0;var a=t("./LanguageData"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.executeInEditMode,f=function(){function t(){this.language="zh",this.font=null}return i([l(cc.String)],t.prototype,"language",void 0),i([l(cc.Font)],t.prototype,"font",void 0),i([s("LocalizedFontItem")],t)}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.isRickText=!1,e.key="",e.fontList=[],e.param=null,e}return r(e,t),Object.defineProperty(e.prototype,"_key",{get:function(){return this.key},set:function(t){this.updateLabel(),this.key=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){a.ready||a.init("zh"),this.fetchRender()},e.prototype.fetchRender=function(){var t;if(t=this.isRickText?this.getComponent(cc.RichText):this.getComponent(cc.Label))return this.label=t,void this.updateLabel()},e.prototype.updateLabel=function(){for(var t=0;t<this.fontList.length;t++){var e=this.fontList[t];if(e.language===a._language){this.label&&e&&(this.label.font=e.font);break}}this.label&&this.key&&(this.label.string=a.t(this.key,this.param))},i([l({visible:!0})],e.prototype,"isRickText",void 0),i([l({visible:!1})],e.prototype,"key",void 0),i([l({displayName:"Key",visible:!0})],e.prototype,"_key",null),i([l({type:f,serializable:!1})],e.prototype,"fontList",void 0),i([s,u],e)}(cc.Component);n.LocalizedLabel=p,cc._RF.pop()},{"./LanguageData":"LanguageData"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"40dd9j3WaFI/bvwDYMEM/u/","LocalizedSprite");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalizedSprite=void 0;var a=t("./LanguageData"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.executeInEditMode,f=function(){function t(){this.language="zh",this.spriteFrame=null}return i([l(cc.String)],t.prototype,"language",void 0),i([l(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),i([s("LocalizedSpriteItem")],t)}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteList=[],e}return r(e,t),e.prototype.onLoad=function(){a.ready||a.init("zh"),this.fetchRender()},e.prototype.fetchRender=function(){var t=this.getComponent("cc.Sprite");if(t)return this.sprite=t,void this.updateSprite()},e.prototype.updateSprite=function(){for(var t=0;t<this.spriteList.length;t++){var e=this.spriteList[t];if(e.language===a._language){this.sprite&&e&&(this.sprite.spriteFrame=e.spriteFrame);break}}},i([l({type:f,serializable:!0})],e.prototype,"spriteList",void 0),i([s,u],e)}(cc.Component);n.LocalizedSprite=p,cc._RF.pop()},{"./LanguageData":"LanguageData"}],MergeScene:[function(t,e,n){"use strict";cc._RF.push(e,"0af54diud5JN6SYpIPIvcRc","MergeScene");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../dataModule/PlayerModule"),l=t("../define/TypeDefine"),u=t("../manager/Uimanager"),f=cc._decorator.ccclass,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){console.log("load mergeScene")},e.prototype.start=function(){var t=this;u.uimanager.init(this.node),s.playerModule.login(function(){t.initGamePanel()})},e.prototype.update=function(){u.uimanager.udpateLayerShow()},e.prototype.initGamePanel=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return[4,u.uimanager.loadPrefab("prefab/merge/game")];case 1:return t=n.sent(),e=cc.instantiate(t),u.uimanager.add(e,l.LAYER.UI),e.setPosition(new cc.Vec2(0,0)),[2]}})})},i([f],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../dataModule/PlayerModule":"PlayerModule","../define/TypeDefine":"TypeDefine","../manager/Uimanager":"Uimanager"}],NewUtils:[function(t,e,n){"use strict";cc._RF.push(e,"85100MR3/pMT5YtpOTF2CAl","NewUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.deepClone=function(t,e){if(void 0===e&&(e=new WeakMap),"object"!=typeof t)return t;if(null===t)return t;if(e.get(t))return e.get(t);if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);var n=new t.constructor;for(var o in e.set(t,n),t)t[o]&&(n[o]=this.deepClone(t[o],e));return n},t.randomIntInclusive=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},t.randomIntArrFromSection=function(t,e,n){var o=[];do{var r=this.randomIntInclusive(e,n);-1===o.indexOf(r)&&o.push(r)}while(o.length<t);return o},t.randomIntArrInclusive=function(t,e,n){var o=[];do{o.push(this.randomIntInclusive(e,n))}while(o.length<t);return o},t.randomIntArrFromArr=function(t,e){var n=[];do{var o=this.randomIntInclusive(0,e.length-1);n.push(e[o])}while(n.length<t);return n},t}();n.default=o,cc._RF.pop()},{}],NumberAction:[function(t,e,n){"use strict";cc._RF.push(e,"7ec2d0pX1BF85jcim699QoK","NumberAction");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../utils/Utils"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.targetNumber=0,e.startNum=0,e.startTime=0,e.duration=0,e.playing=!1,e.colorBackup=null,e.scaleBackup=null,e.targetColor=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){},e.numberTo=function(t,e,o,r){if(void 0===o&&(o=300),t.getComponent(cc.Label)){var i=t.getComponent(n);i||(i=t.addComponent(n)),i.numberTo(e,o,r)}},e.prototype.numberTo=function(t,e,n){void 0===e&&(e=300),this.label||(this.label=this.node.getComponent(cc.Label),this.colorBackup=this.label.node.color,this.scaleBackup=cc.v2(this.label.node.scaleX,this.label.node.scaleY)),t!=~~this.label.string&&(this.targetNumber=t,this.duration=e,this.startNum=a.Utils.isNum(this.label.string)?Number(this.label.string):0,this.startTime=(new Date).getTime(),this.playing=!0,n&&(this.targetColor=n,this.label.node.color=n,this.label.node.scaleX=1.2*this.scaleBackup.x,this.label.node.scaleY=1.2*this.scaleBackup.y))},e.prototype.checkColor=function(t,e){return t.getA()==e.getA()&&t.getB()==e.getB()&&t.getG()==e.getG()&&t.getR()==e.getR()&&void 0},e.prototype.update=function(){if(this.label&&this.playing){var t=(new Date).getTime();if(t>=this.startTime+this.duration)return this.label.node.color=this.colorBackup,this.label.string=""+this.targetNumber,this.label.node.scaleX=this.scaleBackup.x,this.label.node.scaleY=this.scaleBackup.y,void(this.playing=!1);this.targetColor&&(this.label.node.color=this.targetColor);var e=(t-this.startTime)/this.duration,n=this.startNum+(this.targetNumber-this.startNum)*e;this.label.string=""+Math.floor(n)}},n=i([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../utils/Utils":"Utils"}],PanelBase:[function(t,e,n){"use strict";cc._RF.push(e,"f740aSBwwFD/pu0YoVtKRyE","PanelBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EventOnPanelClose=void 0;var s=t("../../utils/logger"),l=t("../../utils/Utils"),u=t("../Global"),f=function(t){function e(n){var o=t.call(this,e.NAME,!0)||this;return o.viewName=n,o}return r(e,t),e.NAME="EventOnPanelClose",e}(cc.Event.EventCustom);n.EventOnPanelClose=f;var p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.ShowPanel=function(t){return a(this,void 0,Promise,function(){var e,o;return c(this,function(r){switch(r.label){case 0:return this.Panels[t]?(s.Logger.debug("[PanelBase] \u8be5\u5f39\u7a97\u5de5\u4f5c\u4e2d"),[2,void 0]):(this.Panels[t]=!0,[4,l.Utils.loadPefab(t)]);case 1:return e=r.sent(),(o=cc.instantiate(e)).getComponent(n)._url=t,[2,o]}})})},e.onSwitchScene=function(){this.Panels={}},e.prototype.close=function(){var t;n.Panels[this._url]=!1;var e=null===(t=this.node)||void 0===t?void 0:t.name;l.Utils.removeNode(this.node),u.GlobalEvent.dispatchEvent(new f(e))},n=i([h],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../../utils/Utils":"Utils","../../utils/logger":"logger","../Global":"Global"}],PlayerInfo:[function(t,e,n){"use strict";cc._RF.push(e,"c55bacUffpAV4PZsWmi2Q6F","PlayerInfo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../common/SaveData"),a=t("./SaveDataConfig"),c=function(t){function e(){return t.call(this,a.SaveKey[a.SaveKey.Player],e.Config)||this}return r(e,t),Object.defineProperty(e.prototype,"arr",{get:function(){return this.getValue(e.Config.a.key)},set:function(t){this.setValue(e.Config.a.key,t)},enumerable:!1,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this)},e.Config={a:new i.SaveNodeConfig("a",[1,1,1,1,1,1,1,1],!1)},e}(i.default);n.default=c,cc._RF.pop()},{"../../common/SaveData":"SaveData","./SaveDataConfig":"SaveDataConfig"}],PlayerModule:[function(t,e,n){"use strict";cc._RF.push(e,"b9091AjnB9Hj67aGxm4Vaq5","PlayerModule");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.playerModule=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.parseData=function(e){t.prototype.parseData.call(this,e)},e.prototype.login=function(t){t&&t()},e}(t("./DataModule").default);n.default=i,n.playerModule=new i,cc._RF.pop()},{"./DataModule":"DataModule"}],PmManager:[function(t,e,n){"use strict";cc._RF.push(e,"c59fbE/B0tCqLlrT4Ke6NFc","PmManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.pm=void 0;var o=function(){function t(){}return Object.defineProperty(t,"platform",{get:function(){return this._platform||(this._platform=new t),this._platform},enumerable:!1,configurable:!0}),t.prototype.Get=function(t){var e=cc.sys.localStorage.getItem(t);return e?JSON.parse(e):null},t.prototype.Set=function(t,e){cc.sys.localStorage.setItem(t,JSON.stringify(e))},t}();n.default=o,n.pm=o.platform,cc._RF.pop()},{}],RewardUtils:[function(t,e,n){"use strict";cc._RF.push(e,"b11c7Deuc5EwqrJWwNqtdlf","RewardUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RewardUtils=n.RewardType=void 0;var o,r=t("../../../game/GameUtils"),i=t("../../effect/Jumpjump3d");(function(t){t[t.Coin=0]="Coin"})(o=n.RewardType||(n.RewardType={}));var a=function(){function t(){}return t.rewardsDataClose=function(t){switch(t.type){case o.Coin:}},t.resBoomByNode=function(t,e,n,o){void 0===o&&(o=.5),r.GameUtils.playSFX("coin");var a=e.convertToWorldSpaceAR(cc.v2(0,0)),c=t.convertToWorldSpaceAR(cc.v2(0,0));r.GameUtils.addEffBoom(c);for(var s=t.getComponent(cc.Sprite).spriteFrame,l=0;l<n;l++)i.default.createBySpr(void 0,s,c,100,o,a)},t}();n.RewardUtils=a,cc._RF.pop()},{"../../../game/GameUtils":"GameUtils","../../effect/Jumpjump3d":"Jumpjump3d"}],SDKManager:[function(t,e,n){"use strict";cc._RF.push(e,"f964acTKuZLfZedEQIkOmh/","SDKManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.sdk=void 0;var o=t("../common/Ball_Main"),r=t("../game/GameUtils"),i=t("../game/ui/bl_Config"),a=function(){function t(){this._adPath_ios="Kiow_CsbAr_EErhViewcOntRoller",this._baseCocos="org/cocos2dx/javascript/AppActivity",this.testNum=0}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},Object.defineProperty(t.prototype,"isAndroid",{get:function(){return cc.sys.os==cc.sys.OS_ANDROID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIphone",{get:function(){return cc.sys.os==cc.sys.OS_IOS},enumerable:!1,configurable:!0}),t.prototype.setKeep=function(){this.isIphone&&jsb.Device.setKeepScreenOn(!0)},t.prototype.onEvent=function(t,e){if(void 0===t&&(t="point_function"),this.isIphone)if(e){var n=JSON.stringify(e);jsb.reflection.callStaticMethod("Chi_PcaS_cAdE_ViewCon","ball_tYiexonEventxiUk_egVjo:jsonData:",t,n)}else jsb.reflection.callStaticMethod("Chi_PcaS_cAdE_ViewCon","ball_tYiexonEventxiUk_egVjo:",t)},t.prototype.ball_showAd=function(t,e){this.isIphone&&t&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexshowAdxiUk_egVjo:force:",t,e)},t.prototype.ball_Reponcendhdrawne=function(t,e){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexReponcendhdrawnexiUk_egVjo:withTXban:",t,e)},t.prototype.ball_openPrivacy=function(){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexopenPrivacyxiUk_egVjo")},t.prototype.ball_openUserService=function(){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexopenUserServicexiUk_egVjo")},t.prototype.ball_getDeviceId=function(){var t="";return this.isIphone&&(t=jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexgetDeviceIdxiUk_egVjo")),t},t.prototype.ball_getCountry=function(){return this.isIphone?jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexgetCountryxiUk_egVjo"):"6"},t.prototype.ball_getSpecialGear=function(){var t;return t=this.isIphone?jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexgetSpecialGearxiUk_egVjo"):[{tic:[-1,20],rate:[5,5]},{tic:[21,60],rate:[4,5]},{tic:[61,150],rate:[4,3]},{tic:[151,-1],rate:[3,3]}],JSON.parse(t),t},t.prototype.ball_SynsReport=function(){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexSynsReportxiUk_egVjo")},t.prototype.ball_gohpVcbaclok=function(){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexgohpVcbaclokxiUk_egVjo")},t.prototype.vibrate=function(t){this.isIphone&&jsb.reflection.callStaticMethod(this._baseCocos,"vibrate","(I)V",t)},t.prototype.copy=function(t){this.isIphone&&jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexsetCopyxiUk_egVjo:",t)},t.prototype.ball_getReward=function(t){void 0===t&&(t=0);var e={drewTag:t},n=JSON.stringify(e);this.ball_sendRequest("/qv2c/lt/aw",n)},t.prototype.ball_getWheelReward=function(t){var e={reqCount:t},n=JSON.stringify(e);this.ball_sendRequest("/qv2c/lc/rdom/draw",n)},t.prototype.ball_getWithdrawals=function(){this.ball_sendRequest("/qv2c/lc/awal/list")},t.prototype.ball_sendRequest=function(t,e){if(console.log("@@\u901a\u4fe1\u8bf7\u6c42ball_sendRequest:",t,e),this.isIphone)jsb.reflection.callStaticMethod(this._adPath_ios,"ball_tYiexsendRequestxiUk_egVjo:requestData:",t,e);else if("/qv2c/lc/awal/list"==t)if(0==this.testNum){var n=' {"errno":"0","data":{"nowBalShow":"189.60","nowLevel":2,"actCountCfg":"80","nextLvCount":10,"nowLogDays":4,"todayGates":1,"showList":[{"needBal":"500","drawBal":"500","id":2,"newerTag":2,"needLevel":41,"left":-1,"needDays":3},{"needBal":"1000","drawBal":"1000","id":3,"newerTag":2,"needLevel":42,"left":-1,"needDays":5},{"needBal":"1500","drawBal":"1500","id":4,"newerTag":2,"needLevel":43,"left":-1,"needDays":10},{"needBal":"2000","drawBal":"2000","id":5,"newerTag":2,"needLevel":44,"left":-1,"needDays":0}]},"timeSign":1713106575767,"errmsg":"success"}';JSON.parse(n).data,this.testNum++}else n=' {"errno":"0","data":{"nowBalShow":"10489.60","nowLevel":2,"actCountCfg":"80","nextLvCount":10,"nowLogDays":4,"todayGates":3,"showList":[{"needBal":"500","drawBal":"500","id":2,"newerTag":2,"needLevel":41,"left":-1,"needDays":3},{"needBal":"1000","drawBal":"1000","id":3,"newerTag":2,"needLevel":42,"left":-1,"needDays":5},{"needBal":"1500","drawBal":"1500","id":4,"newerTag":2,"needLevel":43,"left":-1,"needDays":10},{"needBal":"2000","drawBal":"2000","id":5,"newerTag":2,"needLevel":44,"left":-1,"needDays":0}]},"timeSign":1713106575767,"errmsg":"success"}',JSON.parse(n).data},t._instance=null,t}();n.default=a,n.sdk=a.getInstance(),window.XSSdkCallback=function(t,e){if(console.log("***************\u524d\u7aef\u6536\u5230\u6d88\u606f***************",t+"   ",e),JSON.parse(e),"ad_play"==t);else if("ad_over"==t);else if("ad_error"==t){var n,a=o.default.instance.config;n="2"==i.bc.country?a.json.language.pt.tips2:"13"==i.bc.country?a.json.language.in.tips2:a.json.language.en.tips2,r.GameUtils.showToast(n)}},cc._RF.pop()},{"../common/Ball_Main":"Ball_Main","../game/GameUtils":"GameUtils","../game/ui/bl_Config":"bl_Config"}],SaveDataConfig:[function(t,e,n){"use strict";cc._RF.push(e,"449fbQ+XVNOl7j7Me7ehKaA","SaveDataConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SaveKey=void 0,function(t){t[t.Player=0]="Player",t[t.Level=1]="Level",t[t.Signin=2]="Signin"}(n.SaveKey||(n.SaveKey={})),cc._RF.pop()},{}],SaveData:[function(t,e,n){"use strict";cc._RF.push(e,"07c48c7ygpP3q5vLT30sW7g","SaveData"),Object.defineProperty(n,"__esModule",{value:!0}),n.SaveNodeConfig=n.DataNode=void 0;var o=t("../utils/Utils"),r=t("./Global"),i=t("./GlobalEvents"),a=t("./PmManager"),c=function(){function t(t,e){this.list=new Map,this.nodeConfig={},this._saveKey=t,this.nodeConfig=e}return Object.defineProperty(t.prototype,"saveKey",{get:function(){return this._saveKey+"_1"},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t,e=a.pm.Get(this.saveKey);for(var n in t=e?"string"!=typeof e?e:JSON.parse(e):{},this.nodeConfig){var o=this.nodeConfig[n],r=new s(o,t);this.addNode(r)}},t.prototype.save=function(){var t={};this.list.forEach(function(e){var n=e.saveObj;t[e.key]=n}),a.pm.Set(this.saveKey,JSON.stringify(t))},t.prototype.addNode=function(t){this.list.set(t.key,t)},t.prototype.getNode=function(t){return this.list.get(t)},t.prototype.getValue=function(t){return this.getNode(t).value},t.prototype.setValue=function(t,e,n){void 0===n&&(n=!0);var o=this.getNode(t);o.value=e,r.GlobalEvent.dispatchEvent(new i.EventOnDataChange({model:this.saveKey,key:t,value:o.value})),n&&this.save()},t}();n.default=c;var s=function(){function t(t,e){if(this.key=t.key,this.normal=t.normal,this.daily=t.daily,e&&e[this.key]){var n=e[this.key];this._value=null==n.v?this.normal:n.v,this.saveTime=n.t||0}else this._value=this.normal}return Object.defineProperty(t.prototype,"value",{get:function(){if(this.daily){var t=o.Utils.getCurTime();o.Utils.isToday(this.saveTime)||(this._value=this.normal,this.saveTime=t)}return this._value},set:function(t){this._value=t,this.daily&&(this.saveTime=o.Utils.getCurTime())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saveObj",{get:function(){var t={};return t.v=this._value,this.daily&&(t.t=this.saveTime),t},enumerable:!1,configurable:!0}),t}();n.DataNode=s;n.SaveNodeConfig=function(t,e,n){this.key=t,this.normal=e,this.daily=n},cc._RF.pop()},{"../utils/Utils":"Utils","./Global":"Global","./GlobalEvents":"GlobalEvents","./PmManager":"PmManager"}],SceneLoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"8eaa95GfXtNFY/MjapE2c4G","SceneLoadingUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../game/GameUtils"),l=t("../../utils/logger"),u=t("../../utils/Utils"),f=t("./NumberAction"),p=cc._decorator,h=p.ccclass,d=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_progress=null,e.progressBar=null,e}var n;return r(e,t),n=e,e.hide=function(){this._curUI&&(u.Utils.removeNode(this._curUI.node),this._curUI=void 0)},e.show=function(){this._curUI||(cc.instantiate(n.prefab).parent=s.GameUtils.loadingLayer)},e.preLoad=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=n,[4,u.Utils.loadPefab(n.Prefab_Name).catch(function(t){throw t})];case 1:return t.prefab=e.sent(),[2]}})})},e.setProgress=function(t){this._curUI&&(l.Logger.debug("[SceneLoadingUI setProgress] value:",t),this._curUI._setPorgress(t))},e.prototype.init=function(){n._curUI&&u.Utils.removeNode(n._curUI.node),n._curUI=this},e.prototype._setPorgress=function(t){t=Math.min(t,1),cc.tween(this.progressBar).to(.2,{progress:t},{easing:cc.easing.sineOut}).call(function(){t>=1&&setTimeout(function(){n.hide()},0)}).start();var e=Math.ceil(100*t);f.default.numberTo(this.lb_progress.node,e)},e.prototype.onLoad=function(){n._curUI||(n._curUI=this,this.progressBar=this.node.getComponentInChildren(cc.ProgressBar),this._setPorgress(0))},e._curUI=null,e.prefab=null,e.Prefab_Name="prefab/common/SceneLoadingUI",i([d(cc.Label)],e.prototype,"lb_progress",void 0),n=i([h],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../game/GameUtils":"GameUtils","../../utils/Utils":"Utils","../../utils/logger":"logger","./NumberAction":"NumberAction"}],SceneManager:[function(t,e,n){"use strict";cc._RF.push(e,"fbeef/Ai/5LPqAeelQWHWQ8","SceneManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.sm=n.GameScene=n.SceneType=void 0;var c=t("../game/common/UIManager"),s=t("../utils/logger"),l=t("../utils/Utils"),u=t("./comp/SceneLoadingUI"),f=t("./Global"),p=t("./GlobalEvents");(function(t){t[t.None=-1]="None",t[t.Loading=0]="Loading",t[t.Stage=1]="Stage",t[t.Select=2]="Select",t[t.Main=3]="Main"})(n.SceneType||(n.SceneType={}));var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.initScene=function(t){void 0===t&&(t=void 0)},e.prototype.removeScene=function(){},e.prototype.getNode=function(){},e.prototype.getType=function(){return-1},e}(cc.Component);n.GameScene=h;var d=function(){function t(){this.node=null,this.curScene=null,this.lastSceneType=-1,this.nextSceneType=-1,this.isSceneLoading=!1}return Object.defineProperty(t,"ins",{get:function(){return this._ins||new t},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(t){this.node=t},t.prototype.switchScene=function(t,e,n){return void 0===e&&(e=void 0),void 0===n&&(n=!1),i(this,void 0,void 0,function(){var o,r,i,l;return a(this,function(a){switch(a.label){case 0:return this.isSceneLoading=!0,o=t.GetType(),this.nextSceneType=o,s.Logger.debug("[Ball_Main swtichScene]>>>>>>>>>",o),(r=this.curScene)&&(c.ui.onSwitchScene(),r.removeScene()),i=this,[4,this.createScene(t)];case 1:return i.curScene=a.sent(),this.curScene&&(l=this.curScene.getNode(),this.node.destroyAllChildren(),this.node.addChild(l),f.GlobalEvent.dispatchEvent(new p.EventOnSwitchScene)),n&&u.default.setProgress(1),this.curScene?[4,this.curScene.initScene(e)]:[3,3];case 2:a.sent(),a.label=3;case 3:return this.lastSceneType=this.nextSceneType,this.isSceneLoading=!1,[2]}})})},t.prototype.createScene=function(t){return i(this,void 0,Promise,function(){var e,n,o,r;return a(this,function(i){switch(i.label){case 0:return[4,l.Utils.loadPefab(t.Prefab_Name)];case 1:for(e=i.sent(),(n=cc.instantiate(e)).width=this.node.width,n.height=this.node.height,n.x=0,n.y=0,o=n.getComponentsInChildren(cc.Component),r=0;r<o.length;r++)if(o[r]instanceof h)return[2,o[r]];return[2,void 0]}})})},t}();n.default=d,n.sm=d.ins,cc._RF.pop()},{"../game/common/UIManager":"UIManager","../utils/Utils":"Utils","../utils/logger":"logger","./Global":"Global","./GlobalEvents":"GlobalEvents","./comp/SceneLoadingUI":"SceneLoadingUI"}],Slot:[function(t,e,n){"use strict";cc._RF.push(e,"dcad5zWGmVAHYWaggo3w0WB","Slot");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../dataModule/GameModule"),l=t("../manager/Define"),u=t("../manager/Uimanager"),f=t("../util/EventManager"),p=t("./Coin"),h=cc._decorator,d=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idx=0,e.coinOriginalPos=[[58,197],[58,178],[58,159.3],[58,140],[58,121],[58,102],[58,83],[58,64],[58,45],[58,26]],e.coin0=null,e.coin1=null,e.coin2=null,e.coin3=null,e.coin4=null,e.coin5=null,e.coin6=null,e.coin7=null,e.coin8=null,e.coin9=null,e.uImgSlotSelect=null,e.uImgSlotMerge=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.selectAction,this),f.eventManager.on(l.EventType.MOVE_COIN,this.onMove,this),f.eventManager.on(l.EventType.MOVE_END,this.onMoveEnd,this),f.eventManager.on(l.EventType.CHECK_MERGE,this.onUpdateMergeStatus,this),f.eventManager.on(l.EventType.MERGE_COIN,this.onMerge,this),f.eventManager.on(l.EventType.MOVE_CHECK_FAIL,this.canNotMove,this)},e.prototype.start=function(){},e.prototype.formatData=function(t,e){var n=this;this.idx=t;for(var o=function(t){0!==e[t]?r["coin"+t].getComponent(p.default).init(r.idx,e[t],function(){n["coin"+t].active=!0}):r["coin"+t].active=!1,r["coin"+t].setPosition(cc.v2(r.coinOriginalPos[t][0],r.coinOriginalPos[t][1]))},r=this,i=0;i<10;i++)o(i);this.node.setSiblingIndex(this.idx)},e.prototype.selectAction=function(){-1===s.gameModule.curSelectSlotIdx?this.onSelect():s.gameModule.curSelectSlotIdx===this.idx?this.onDeSelect():this.onCheckMove()},e.prototype.onSelect=function(){var t=s.gameModule.slotData[this.idx];if(0!==t[0])if(s.gameModule.mergeLock)console.log("\u6b63\u5728\u5408\u5e76\u4e2d\uff0c\u65e0\u6cd5\u9009\u4e2d");else{s.gameModule.curSelectSlotIdx=this.idx,this.uImgSlotSelect.active=!0,this.node.setSiblingIndex(8),s.gameModule.curSelectCoinIdxs=[];for(var e=9;e>=0;e--)if(0!==t[e])if(0===s.gameModule.curSelectCoinIdxs.length)s.gameModule.curSelectCoinIdxs.push(e);else{if(t[e]!==t[s.gameModule.curSelectCoinIdxs[s.gameModule.curSelectCoinIdxs.length-1]])break;s.gameModule.curSelectCoinIdxs.push(e)}for(console.log("\u9009\u4e2d\u4e86\u7b2c"+this.idx+"\u4e2a\u69fd\u7684",s.gameModule.curSelectCoinIdxs),e=0;e<s.gameModule.curSelectCoinIdxs.length;e++){var n=this.coinOriginalPos[s.gameModule.curSelectCoinIdxs[e]][1]+25;cc.tween(this["coin"+s.gameModule.curSelectCoinIdxs[e]]).to(.5,{y:n},{easing:"backOut"}).start()}}else console.log("\u9009\u4e2d\u4e86\u7a7a\u7684\u69fd\u4f4d")},e.prototype.onDeSelect=function(){console.log("\u53d6\u6d88\u9009\u62e9");for(var t=0;t<10;t++){var e=this.coinOriginalPos[t][1];cc.tween(this["coin"+t]).to(.5,{y:e},{easing:"backOut"}).start()}this.uImgSlotSelect.active=!1,s.gameModule.curSelectSlotIdx=-1},e.prototype.onCheckMove=function(){if(-1===s.gameModule.slotData[this.idx].indexOf(0))return console.log("\u7b79\u7801\u6570\u91cf\u5df2\u6ee1\uff0c\u4e0d\u53ef\u79fb\u52a8"),void f.eventManager.dispatch(l.EventType.MOVE_CHECK_FAIL);var t=s.gameModule.getFirstVaildNumBySlotIdx(this.idx),e=s.gameModule.getCurSelectSlotInfo();if(-1!==t.vaildNum&&t.vaildNum!==e.num)return console.log("\u7b79\u7801\u7c7b\u578b\u4e0d\u4e00\u81f4, \u4e0d\u53ef\u79fb\u52a8"),void f.eventManager.dispatch(l.EventType.MOVE_CHECK_FAIL);if(s.gameModule.moveLock)console.log("\u6b63\u5728\u79fb\u52a8\u4e2d\uff0c\u65e0\u6cd5\u4ea7\u751f\u66f4\u591a\u79fb\u52a8");else{for(var n=Math.min(t.vaildSpace,e.cnt),o=[],r=[],i=[],a=t.vaildIdx+1,c=0;c<n;c++){var u=this.coinOriginalPos[a][0],p=this.coinOriginalPos[a][1],h=this.node.convertToWorldSpaceAR(cc.v2(u,p));o.push(h),r.push(a),i.push(s.gameModule.curSelectCoinIdxs[c]),a++}var d={moveCnt:n,tarPos:o,tarIdxArr:r,srcIdxArr:i,numType:e.num,tarSlotIdx:this.idx};f.eventManager.dispatch(l.EventType.MOVE_COIN,d)}},e.prototype.canNotMove=function(){var t=this;if(s.gameModule.curSelectSlotIdx===this.idx&&-1!==s.gameModule.curSelectSlotIdx)for(var e=function(e){var o=n["coin"+s.gameModule.curSelectCoinIdxs[e]],r=o.x;cc.tween(o).to(.05,{x:r-10}).to(.1,{x:r+10}).to(.1,{x:r-10}).to(.05,{x:r}).call(function(){e===s.gameModule.curSelectCoinIdxs.length-1&&t.onDeSelect()}).start()},n=this,o=0;o<s.gameModule.curSelectCoinIdxs.length;o++)e(o)},e.prototype.onMove=function(t){var e=this,n=t.data;if(this.idx===s.gameModule.curSelectSlotIdx){console.log("onMove: "+s.gameModule.curSelectSlotIdx+" -> "+n.tarSlotIdx),s.gameModule.moveLock=!0;for(var o=n.moveCnt,r=n.tarPos,i=[],a=r.length-1;a>=0;a--)i.push(this.node.convertToNodeSpaceAR(r[a]));var c=s.gameModule.curSelectCoinIdxs[0],l=function(t){cc.tween(u["coin"+c]).delay(.03*t).to(.1,{position:i[t]}).call(function(){t===o-1&&(s.gameModule.tidySlotData({tarSlotIdx:n.tarSlotIdx,numType:n.numType,srcIdxArr:n.srcIdxArr,tarIdxArr:n.tarIdxArr}),e.onDeSelect(),s.gameModule.moveLock=!1)}).start(),c--},u=this;for(a=0;a<o;a++)l(a)}},e.prototype.onMoveEnd=function(){console.log("onMoveEnd"),this.formatData(this.idx,s.gameModule.slotData[this.idx])},e.prototype.onUpdateMergeStatus=function(){var t=s.gameModule.checkCanMergeBySlot(this.idx);this.uImgSlotMerge.active=t,this.showMergeHintAction(t)},e.prototype.showMergeHintAction=function(t){var e=this;t?(this.uImgSlotMerge.opacity=0,cc.tween(this.uImgSlotMerge).to(1,{opacity:255}).to(1,{opacity:0}).call(function(){e.showMergeHintAction(t)}).start()):(cc.tween(this.uImgSlotMerge).stop(),this.uImgSlotMerge.active=t)},e.prototype.onMerge=function(){var t=this;if(s.gameModule.checkCanMergeBySlot(this.idx)){s.gameModule.mergeLock+=1;for(var e=function(e){cc.tween(n["coin"+e]).delay(.05*(9-e)).to(.1,{scale:0}).call(function(){t["coin"+e].active=!1,t["coin"+e].scale=1,0===e&&t.onMergeFinish()}).start()},n=this,o=9;o>=0;o--)e(o)}},e.prototype.onMergeFinish=function(){var t=this,e=s.gameModule.slotData[this.idx][0]+1;s.gameModule.slotData[this.idx]=[e,e,0,0,0,0,0,0,0,0],console.log("\u69fd"+this.idx+" \u5408\u6210"+e),this.coin0.scale=0,this.coin1.scale=0,this.coin0.getComponent(p.default).init(this.idx,e,function(){t.coin0.active=!0}),this.coin1.getComponent(p.default).init(this.idx,e,function(){t.coin1.active=!0}),cc.tween(this.coin0).to(.5,{scale:1},{easing:"backOut"}).start(),cc.tween(this.coin1).to(.5,{scale:1},{easing:"backOut"}).call(function(){s.gameModule.mergeLock-=1,s.gameModule.mergeLock<0&&(s.gameModule.mergeLock=0)}).start(),this.uImgSlotMerge.active=!1,f.eventManager.dispatch(l.EventType.CHECK_MERGE)},e.prototype.produce=function(t,e,n){return a(this,void 0,void 0,function(){var o,r,i,a,l,u=this;return c(this,function(f){switch(f.label){case 0:if(console.log(this.idx,t),0===t.length)return console.log(this.idx+"\u69fd\u65e0\u65b0\u7b79\u7801"),[2];console.log(this.idx+" \u751f\u6210\u4e86",t),o=this.node.convertToNodeSpaceAR(e),r=0,i=function(e){var i,l,f,h,d;return c(this,function(c){switch(c.label){case 0:return[4,a.produceCoin()];case 1:return i=c.sent(),l=i.getComponent(p.default),a.node.addChild(i),l.node.setPosition(o),l.node.active=!1,l.init(a.idx,t[e],function(){l.node.active=!0}),f=n+r,h=a.coinOriginalPos[n+r],d=cc.v2(h[0],h[1]),s.gameModule.produceLock+=1,cc.tween(l.node).delay(.1*r).to(.5,{position:d},{easing:"cubicInOut"}).call(function(){u["coin"+f].getComponent(p.default).init(u.idx,t[e],function(){u["coin"+f].active=!0,l.node.active=!1,l.node.destroy()}),s.gameModule.produceLock-=1,s.gameModule.produceLock<0&&(s.gameModule.produceLock=0)}).start(),r++,[2]}})},a=this,l=0,f.label=1;case 1:return l<t.length?[5,i(l)]:[3,4];case 2:f.sent(),f.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.produceCoin=function(){return a(this,void 0,Promise,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,u.uimanager.loadPrefab("prefab/merge/coin")];case 1:return t=e.sent(),[2,cc.instantiate(t)]}})})},i([g(cc.Node)],e.prototype,"coin0",void 0),i([g(cc.Node)],e.prototype,"coin1",void 0),i([g(cc.Node)],e.prototype,"coin2",void 0),i([g(cc.Node)],e.prototype,"coin3",void 0),i([g(cc.Node)],e.prototype,"coin4",void 0),i([g(cc.Node)],e.prototype,"coin5",void 0),i([g(cc.Node)],e.prototype,"coin6",void 0),i([g(cc.Node)],e.prototype,"coin7",void 0),i([g(cc.Node)],e.prototype,"coin8",void 0),i([g(cc.Node)],e.prototype,"coin9",void 0),i([g(cc.Node)],e.prototype,"uImgSlotSelect",void 0),i([g(cc.Node)],e.prototype,"uImgSlotMerge",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../dataModule/GameModule":"GameModule","../manager/Define":"Define","../manager/Uimanager":"Uimanager","../util/EventManager":"EventManager","./Coin":"Coin"}],SpriteToHome:[function(t,e,n){"use strict";cc._RF.push(e,"a568bfXKBlMAZhMOOrBp75A","SpriteToHome");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../game/GameUtils"),l=t("../../utils/Utils"),u=cc._decorator,f=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.withRotation=!1,e.endEffectPos=void 0,e.spdx=30,e.spdy=10,e.groundNum=0,e.center=void 0,e.status=!0,e.next=void 0,e.toScale=1,e.aniBackOut=!0,e}var n;return r(e,t),n=e,e.createVehicle=function(t,e,o,r,i){return a(this,void 0,void 0,function(){var a,l,u;return c(this,function(){return(a=new cc.Node).width=t.width,a.height=t.height,a.position=e,(l=cc.instantiate(t)).removeComponent(cc.Widget),l.x=0,l.y=0,l.parent=a,(u=a.addComponent(n)).next=i,u.withRotation=r,u.endEffectPos=s.GameUtils.effectLayer.convertToNodeSpaceAR(o),u.icon=l,s.GameUtils.addEffectAR(a),[2]})})},e.create=function(t,e,o,r,i,l){return void 0===l&&(l=1),a(this,void 0,void 0,function(){var a,u,f,p;return c(this,function(){return a=new cc.Node,u=new cc.Node,a.addChild(u),f=u.addComponent(cc.Sprite),u.scale=l,f.sizeMode=cc.Sprite.SizeMode.RAW,f.spriteFrame=t,(p=a.addComponent(n)).withRotation=r,p.next=i,a.position=e,p.endEffectPos=s.GameUtils.effectLayer.convertToNodeSpaceAR(o),s.GameUtils.addEffectAR(a),[2]})})},e.createNode=function(t,e,o,r,i,l,u){return void 0===l&&(l=1),void 0===u&&(u=!0),a(this,void 0,void 0,function(){var a,f;return c(this,function(){return a=new cc.Node("effectNode"),t.parent=a,t.position=cc.v2(0,0),a.position=e,(f=a.addComponent(n)).withRotation=r,f.endEffectPos=s.GameUtils.effectLayer.convertToNodeSpaceAR(o),f.next=i,f.toScale=l,f.aniBackOut=u,s.GameUtils.addEffectAR(a),[2]})})},e.prototype.onLoad=function(){var t=this;this.icon=this.node.children[0],this.node.scale=l.Utils.randomFloat(.9,1.1),cc.tween(this.node).to(.8,{position:this.endEffectPos,scale:this.toScale},{easing:cc.easing.sineIn}).call(function(){cc.tween(t.node).to(.2,{opacity:0,scale:1.4},{easing:cc.easing.sineOut}).call(function(){t.icon.stopAllActions(),t.node.stopAllActions(),l.Utils.removeNode(t.node)}).start(),t.next&&t.next()}).start(),this.withRotation&&(this.icon.angle=180),this.aniBackOut&&cc.tween(this.icon).to(.24,{y:-200},{easing:cc.easing.sineInOut}).to(.8*.7,{y:0},{easing:cc.easing.sineIn}).start()},n=i([f],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../../game/GameUtils":"GameUtils","../../utils/Utils":"Utils"}],Toast:[function(t,e,n){"use strict";cc._RF.push(e,"0f5f3BNcFNK5r/Yq+s0KNOF","Toast");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TipIco=void 0;var s,l=cc._decorator,u=l.ccclass,f=l.property;(function(t){t[t.NetErr=0]="NetErr",t[t.Error=1]="Error",t[t.Tip=2]="Tip",t[t.Flower=3]="Flower",t[t.Coin=4]="Coin"})(s=n.TipIco||(n.TipIco={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon_frames=[],e.lb_msg=null,e.img_icon=null,e.lb_num=null,e.startTime=0,e.duration=2,e.iconIndex=0,e}var n;return r(e,t),n=e,e.preLoad=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=n,[4,n.loadPefab(n.Prefab_Name).catch(function(t){throw t})];case 1:return t.prefab=e.sent(),[2]}})})},e.showNum=function(t,e,n,o){this._show(t,e,n,o+"")},e.show=function(t,e,n){void 0===n&&(n=s.Tip),this._show(t,e,n,void 0,2)},e._show=function(t,e,o,r,i){return void 0===i&&(i=2),a(this,void 0,void 0,function(){var a;return c(this,function(c){switch(c.label){case 0:return this.prefab?[3,2]:[4,this.preLoad()];case 1:c.sent(),c.label=2;case 2:return(a=cc.instantiate(n.prefab)).getComponent(n)._show(e,o,r,i),a.parent=t,[2,a]}})})},e.loadPefab=function(t,e){return void 0===e&&(e=!1),a(this,void 0,Promise,function(){var e=this;return c(this,function(){return[2,new Promise(function(n,o){return a(e,void 0,void 0,function(){var e,r,i=this;return c(this,function(s){switch(s.label){case 0:e=function(){return a(i,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(e,n){var o=setTimeout(function(){n("oadPefab \u8fde\u63a5\u8d85\u65f6"+t)},1e4);cc.resources.load(t,function(t,r){clearTimeout(o),t?n(t):e(r)})})]})})},r=3,s.label=1;case 1:return r>0?[4,e().then(function(t){r=0,n(t)}).catch(function(t){--r<=0&&o(t)})]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})})]})})},e.prototype._show=function(t,e,n,o){void 0===o&&(o=2),this.iconIndex=e,this.startTime=(new Date).getTime(),e<0?(this.img_icon.node.active=!1,this.node.width=354):(this.img_icon.node.active=!0,this.img_icon.spriteFrame=this.icon_frames[e],this.node.width=400),n?(this.lb_num.node.active=!0,this.lb_num.string=n,this.node.height=154):(this.lb_num.node.active=!1,this.node.height=84),this.duration=o,this.lb_msg.string=t,this.node.y=-50,this.node.opacity=0},e.prototype.onLoad=function(){var t=this;cc.tween(this.node).to(.3,{y:0,opacity:255},{easing:cc.easing.sineOut}).start(),this.timer=setTimeout(function(){cc.tween(t.node).to(.3,{y:t.node.y+50,opacity:0},{easing:cc.easing.sineOut}).call(function(){t.node.removeFromParent(),t.node.destroy()}).start()},1e3*this.duration)},e.prototype.onDestroy=function(){clearTimeout(this.timer)},e.Prefab_Name="prefab/common/toast/toast",e.prefab=null,i([f([cc.SpriteFrame])],e.prototype,"icon_frames",void 0),i([f(cc.Label)],e.prototype,"lb_msg",void 0),i([f(cc.Sprite)],e.prototype,"img_icon",void 0),i([f(cc.Label)],e.prototype,"lb_num",void 0),n=i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],TouchEffect:[function(t,e,n){"use strict";cc._RF.push(e,"ba1070sT7NPqKINxiKgj14u","TouchEffect");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaleTime=.07,e.initScaleX=1,e.initScaleY=1,e.dS=.9,e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.start=function(){this.initScaleX=this.node.scaleX,this.initScaleY=this.node.scaleY,cc.tween(this.node).stop()},e.prototype.onTouchStart=function(){var t=.9*this.node.scaleX,e=.9*this.node.scaleY;cc.tween(this.node).to(this.scaleTime,{scaleX:t,scaleY:e}).start()},e.prototype.onTouchEnd=function(){cc.tween(this.node).to(this.scaleTime,{scaleX:this.initScaleX,scaleY:this.initScaleY}).start()},i([s()],e.prototype,"scaleTime",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],TypeDefine:[function(t,e,n){"use strict";cc._RF.push(e,"26083HQUZhNsJndxpxVjML2","TypeDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.LAYER=void 0,function(t){t.UI="ui",t.DIALOG="dialog",t.TIP="tip",t.GUIDE="guide"}(n.LAYER||(n.LAYER={})),cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"f91a8WZcpVE26FSaQTEQD2d","UIManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ui=n.UILayer=void 0;var o,r=t("../../common/comp/PanelBase"),i=t("../../common/consts/GlobalDefines"),a=t("../../utils/logger"),c=t("../../utils/Utils");(function(t){t[t.Topres=0]="Topres",t[t.Panel=1]="Panel",t[t.LoadingBar=2]="LoadingBar",t[t.MessageBox=3]="MessageBox",t[t.Guide=4]="Guide",t[t.Banner=5]="Banner",t[t.X=6]="X",t[t.Tip=7]="Tip",t[t.Effect=8]="Effect",t[t.Effect2=9]="Effect2"})(o=n.UILayer||(n.UILayer={}));var s=function(){function t(){this.hurryLoading=null}return Object.defineProperty(t,"ins",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(t,e){this.node=t,this.hurryLoading=e},t.prototype.onInit=function(){this.hideLoading()},t.prototype.showLoading=function(){this.hurryLoading.show()},t.prototype.hideLoading=function(){this.hurryLoading.hide()},t.prototype.checkNode=function(){for(var t in a.Logger.warn("[UIManager checkNode] width:",this.node.width,"/height:",this.node.height),o)isNaN(t)&&this.addNullNode(this.node,t)},t.prototype.addNullNode=function(t,e){if(t){var n=t.getChildByName(e);if(n)return console.warn("[UIManager addNullNode] \u8282\u70b9"+e+"\u5df2\u7ecf\u5b58\u5728"),n;var o=new cc.Node(e);return t.addChild(o),o.width=o.parent.width,o.height=o.parent.height,o.x=0,o.y=0,o}console.warn("[UIManager addNullNode] "+t+"\u4e0d\u5b58\u5728")},t.prototype.getLayer=function(t){var e=o[t];return this.node.getChildByName(e)},t.prototype.addGuide=function(t){t.x=0,t.y=0,t.width=i.GlobalDefines.ScreenWidth,t.height=i.GlobalDefines.ScreenHeight,this.getLayer(o.Guide).addChild(t)},t.prototype.popView=function(t,e){void 0===e&&(e=!1),t.x=0,t.y=0,t.width=i.GlobalDefines.ScreenWidth,t.height=i.GlobalDefines.ScreenHeight,e?this.getLayer(o.Panel).insertChild(t,0):t.parent=this.getLayer(o.Panel)},t.prototype.tip=function(t){t.parent=this.getLayer(o.Tip)},t.prototype.layerClear=function(t){c.Utils.removeAllChildren(this.getLayer(t))},t.prototype.addEffect=function(t){this.getLayer(o.Effect).childrenCount>=200&&c.Utils.removeNode(this.getLayer(o.Effect).children[0]),t.parent=this.getLayer(o.Effect)},t.prototype.addEffectAR=function(t){var e=this.getLayer(o.Effect).convertToNodeSpaceAR(t.position);t.position=e,this.addEffect(t)},t.prototype.onSwitchScene=function(){r.default.onSwitchScene(),this.layerClear(o.Panel),this.layerClear(o.Tip)},Object.defineProperty(t.prototype,"safeAreaTop",{get:function(){return i.GlobalDefines.MenuButtonLogic.top+i.GlobalDefines.MenuButtonLogic.height+(100-i.GlobalDefines.MenuButtonLogic.height)/2},enumerable:!1,configurable:!0}),t.prototype.alignmentToMenu=function(t){var e=i.GlobalDefines.MenuButtonLogic.top,n=i.GlobalDefines.MenuButtonLogic.height,o=i.GlobalDefines.ScreenHeight;t.y=o/2-e-n/2,a.Logger.debug("[BattleOptionWord alignmentToMenu] bar.y:",t.y,"ScreenHeight:",i.GlobalDefines.ScreenHeight)},t}();n.default=s,n.ui=s.ins,cc._RF.pop()},{"../../common/comp/PanelBase":"PanelBase","../../common/consts/GlobalDefines":"GlobalDefines","../../utils/Utils":"Utils","../../utils/logger":"logger"}],Uimanager:[function(t,e,n){"use strict";cc._RF.push(e,"f6b0eaEb8lOraTr9sfkeyyf","Uimanager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.uimanager=void 0;var i=t("../define/TypeDefine"),a=function(){function t(){this.scene=null,this.layerArr=[]}return Object.defineProperty(t,"instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this.scene=t,this.initLayer()},t.prototype.initLayer=function(){this.layerArr=[];var t=new cc.Node(i.LAYER.UI);t.width=this.scene.width,t.height=this.scene.height,this.scene.addChild(t),this.layerArr.push(t);var e=new cc.Node(i.LAYER.DIALOG);e.width=this.scene.width,e.height=this.scene.height,this.scene.addChild(e),this.layerArr.push(e);var n=new cc.Node(i.LAYER.TIP);n.width=this.scene.width,n.height=this.scene.height,this.scene.addChild(n),this.layerArr.push(n);var o=new cc.Node(i.LAYER.GUIDE);o.width=this.scene.width,o.height=this.scene.height,this.scene.addChild(o),this.layerArr.push(o)},t.prototype.getLayer=function(t){return this.scene.getChildByName(t)},t.prototype.add=function(t,e){var n=this.getLayer(e);n?n.addChild(t):console.warn("UIManager: \u6ca1\u6709\u8fd9\u4e2a\u5c42\u7ea7",e)},t.prototype.udpateLayerShow=function(){for(var t=0;t<this.layerArr.length;t++)this.layerArr[t].active=this.layerArr[t].childrenCount>0},t.prototype.loadPrefab=function(t){return o(this,void 0,Promise,function(){var e=this;return r(this,function(){return[2,new Promise(function(n,i){return o(e,void 0,void 0,function(){var e=this;return r(this,function(a){switch(a.label){case 0:return[4,o(e,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e,n){var o=setTimeout(function(){console.debug("[loadPefab timeout] "+t+"\u52a0\u8f7d\u8d85\u65f6"),n("loadPefab \u8fde\u63a5\u8d85\u65f6"+t)},1e4);cc.resources.load(t,function(t,r){clearTimeout(o),t?n(t):e(r)})})]})}).then(function(t){n(t)}).catch(function(t){i(t)})];case 1:return a.sent(),[2]}})})})]})})},t}();n.default=a,n.uimanager=a.instance,cc._RF.pop()},{"../define/TypeDefine":"TypeDefine"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"0b537WzEsNMpqZojXSEjccf","Utils");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var a=t("../common/consts/GlobalDefines"),c=t("./logger"),s=function(){function t(){}return t.sleep=function(t,e){return o(this,void 0,void 0,function(){var n=this;return r(this,function(){return[2,new Promise(function(o){setTimeout(function(){n.invokeCallback(o)},t,e)}).catch(function(){})]})})},t.invokeCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&"function"==typeof t&&t.apply(null,e)},t.safeCallFunc=function(t,e){t&&"function"==typeof t&&t.apply(e)},t.randomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.randomIntInclusive=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},t.randomFloat=function(t,e){return Math.random()*(e-t)+t},t.randomByList=function(t){t.map(function(t,e,n){return n[e]=~~n[e-1]+t});for(var e=this.randomIntInclusive(1,t[t.length-1]),n=t.length-1;n>=0;n--){var o=t[n];if(~~t[n-1]<e&&e<=o)return n}return-1},t.getRandomByArr=function(t){return t[this.randomInt(0,t.length)]},t.modByLimit=function(t,e){return(t-1)%e+1},t.isNullOrEmpty=function(t){return!t||""==t||"null"==t},t.qrSceneOption=function(t){if(!t)return{};for(var e={},n=0,o=decodeURIComponent(t).split("&");n<o.length;n++){var r=o[n].split("=");e[r[0]]=r[1]}return e},t.formatTimeExt=function(t,e){if(void 0===e&&(e=!1),~~t<=0)return e?"00\u65f600\u520600\u79d2":"00\u520600\u79d2";var n=Math.floor(t/3600).toString(),o=Math.floor(t%3600%60).toString(),r=e?Math.floor(t%3600/60):Math.floor(t/60).toString();if(e){var i=[n,r,o].map(function(t){return(""+t)[1]?t:"0"+t});return i[0]+"\u65f6"+i[1]+"\u5206"+i[2]+"\u79d2"}var a=[r,o].map(function(t){return(""+t)[1]?t:"0"+t});return a[0]+"\u5206"+a[1]+"\u79d2"},t.formatMilTime=function(t){if(t>0){var e=Math.ceil(1e3*t);return Math.floor(e/1e3)+"\u2033"+e%1e3}return"0\u2033000"},t.formatTime=function(t,e){if(void 0===e&&(e=!1),~~t<=0)return e?"00:00:00":"00:00";var n=Math.floor(t/3600).toString(),o=Math.floor(t%3600%60).toString(),r=e?Math.floor(t%3600/60):Math.floor(t/60).toString();return e?[n,r,o].map(function(t){return(""+t)[1]?t:"0"+t}).join(":"):[r,o].map(function(t){return(""+t)[1]?t:"0"+t}).join(":")},t.formatTime_Date=function(t,e){var n=new Date(1e3*t),o=(n.getMonth()+1).toString(),r=n.getDate();return e?[n.getFullYear().toString(),o,r].map(function(t){return(""+t)[1]?t:"0"+t}).join("."):[o,r].map(function(t){return(""+t)[1]?t:"0"+t}).join(".")},t.getWeekNumberNow=function(t){var e=new Date(t);return this.getWeekNumber(e)},t.getWeekNumber=function(t){(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))).setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-e.getTime())/864e5+1)/7)},t.getMonthM=function(t,e){return 4==e||6==e||9==e||11==e?30:2==e?t%4==0&&t%100!=0||t%400==0?29:28:31},t.getTimestamp=function(){return(new Date).getTime()},t.getOSSTime=function(t){if(this.isEmpty(t))return 0;var e=t.split(","),n=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]),parseInt(e[3]),parseInt(e[4]),0);return Math.floor(n.getTime()/1e3)},t.solveString=function(t,e){if(!t)return"";for(var n=0,o="",r=0;r<t.length;r++){if(t.charCodeAt(r)>127||94==t.charCodeAt(r)?n+=2:n++,n>e)return o+"...";o+=t.charAt(r)}return o},t.mixedStrLen=function(t){for(var e=0,n=0;n<t.length;n++)t.substr(n,1).charCodeAt(0)>255?e+=2:e++;return e},t.angleToRadian=function(t){return t*Math.PI/180},t.updateNodeSpriteFrame=function(e,n,o,r,i){if(void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i="png"),!t.isNullOrEmpty(e))if(o){if(!e.startsWith("https://"))return;cc.assetManager.loadRemote(e,{ext:"."+i},function(t,o){if(t)console.error("[Utils updateNodeSpriteFrame isFromNet] url:",e,"/err:",t);else if(cc.isValid(n)){c.Logger.debug("[Utils updateNodeSpriteFrame] texture:",o);var i=new cc.SpriteFrame(o),a=n.getComponent(cc.Sprite);a&&(a.spriteFrame=i),r&&r(i)}})}else cc.resources.load(e,cc.SpriteFrame,function(t,o){if(t)console.error("[Utils updateNodeSpriteFrame isNotFromNet] url:",e,"/err:");else if(cc.isValid(n)){var i=n.getComponent(cc.Sprite);i&&(i.spriteFrame=o),r&&r(o)}})},t.loadSpine=function(t,e,n,o){cc.assetManager.loadRemote(t+".json",function(e,r){e?o&&o("\u52a0\u8f7djson\u5931\u8d25"):(c.Logger.debug("[\u52a0\u8f7dJson] date:",(new Date).getTime()),cc.assetManager.loadRemote(t+".atlas",function(e,i){e?o&&o("\u52a0\u8f7datlas\u5931\u8d25"):(c.Logger.debug("[\u52a0\u8f7datlas] date:",(new Date).getTime()),cc.assetManager.loadRemote(t+".png",function(e,a){if(e)o&&o("\u52a0\u8f7dpng\u5931\u8d25");else{c.Logger.debug("[\u52a0\u8f7dpng] date:",(new Date).getTime());var s={skeletonJson:r.json,atlasText:i.text,textures:[a],uuid:t+".json",textureNames:[name+".png"]};n&&n(s)}}))}))})},t.updateSpineRes=function(t,e,n){var o=e.getComponent(sp.Skeleton);o||(o=e.addComponent("sp.Skeleton"));var r=new sp.SkeletonData;r._uuid=n.uuid,r.skeletonJson=n.skeletonJson,r.atlasText=n.atlasText,r.textures=n.textures,r.textureNames=n.textureNames,o.skeletonData=r,o.setAnimation(0,t,!0)},t.secondsToClock=function(t){var e=(t=Number(t))%60,n=(t-e)/60,o=Math.floor(n/60);return o>0&&(n%=60),(o>9?o:"0"+o)+":"+(n>9?n:"0"+n)+":"+(e>9?e:"0"+e)},t.isEmpty=function(t){return null==t||""==t||null==t},t.loadSimpleBone=function(t,e,n){var o="bones/"+t+"/",r=[o+e+"_ske",o+e+"_atlas",o+e+"_tex"];cc.resources.load(r,function(o,r){o?c.Logger.debug("[Utils loadSimpleBone] \u52a0\u8f7d\u5931\u8d25:",t,"/",e):n(r[0],r[1])})},t.loadPlayerBone=function(t,e,n,o){var r="bones/finn/",i=[r+t+(e?"_ske":"_pk_ske"),r+t+(e?"_atlas":"_pk_atlas"),r+t+(e?"_tex":"_pk_tex")];cc.resources.load(i,function(e,r){if(e)return c.Logger.debug("[Utils loadSimpleBone] \u52a0\u8f7d\u5931\u8d25:",t),void(o&&o("\u52a0\u8f7d\u5931\u8d25 "+t));n(r[0],r[1],r[2])})},t.releaseRes=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return cc.assetManager.releaseAsset(t),[2]})})},t.loadPefab=function(t,e){return void 0===e&&(e=!1),o(this,void 0,Promise,function(){var e=this;return r(this,function(){return[2,new Promise(function(n,i){return o(e,void 0,void 0,function(){var e=this;return r(this,function(a){switch(a.label){case 0:return[4,o(e,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e,n){var o=setTimeout(function(){c.Logger.debug("[Utils oadPefab] "+t+"\u52a0\u8f7d\u8d85\u65f6"),n("oadPefab \u8fde\u63a5\u8d85\u65f6"+t)},1e4);cc.resources.load(t,function(t,r){clearTimeout(o),t?n(t):e(r)})})]})}).then(function(t){n(t)}).catch(function(t){i(t)})];case 1:return a.sent(),[2]}})})})]})})},t.loadConfigFromAli=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e,n){cc.assetManager.loadRemote(t,function(o,r){if(o)return c.Logger.debug("[DataManager loadConfig["+t+"]] err:",o),void n("\u52a0\u8f7d\u5931\u8d25"+t);e(r.json)})})]})})},t.isNum=function(t){if("0"===t||null==t)return!0;var e=Number(t);return!isNaN(e)},t.getCurTime=function(){return Math.floor(this.getCurMillisecond()/1e3)},t.getCurMillisecond=function(){return(new Date).getTime()},t.getymd=function(t){var e=new Date(1e3*t),n=e.getMonth()+1,o=e.getDate();return{year:e.getFullYear(),month:n,date:o,hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),milliseconds:e.getMilliseconds()}},t.isToday=function(e){var n=this.getCurTime(),o=t.getymd(e),r=t.getymd(n);return o.year==r.year&&o.month==r.month&&o.date==r.date},t.getDayBeginTime=function(t){var e=new Date(t);return e.setHours(0),e.setSeconds(0),e.setMinutes(0),e.setMilliseconds(0),e.getTime()},t.waiting=function(t){return new Promise(function(e){setTimeout(function(){e()},t)})},t.prototype.secondsToClock=function(t){var e=(t=Number(t))%60,n=(t-e)/60,o=Math.floor(n/60);return o>0&&(n%=60),(o>9?o:"0"+o)+":"+(n>9?n:"0"+n)+":"+(e>9?e:"0"+e)},t.loadConfig=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:e="config/"+t,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.LoadRes(e)];case 2:return[2,n.sent()];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.LoadRes=function(t){return new Promise(function(e,n){cc.resources.load(t,function(t,o){t?n(t.message||t):e(o)})})},t.btnLock=function(t){var e=this;return void 0===t&&(t=500),!!this._btnLock||(this._btnLock=!0,setTimeout(function(){e._btnLock=!1},t),!1)},t.removeNode=function(t){t&&t.parent&&(t.removeFromParent(),t.destroy())},t.removeAllChildren=function(t){t&&t.removeAllChildren()},t.toGrey=function(t){if(t){var e=cc.MaterialVariant.getBuiltinMaterial("2d-gray-sprite");t.setMaterial(0,e)}},t.toColor=function(t){if(t){var e=cc.MaterialVariant.getBuiltinMaterial("2d-sprite");t.setMaterial(0,e)}},t.toGreyNode=function(t){if(t)for(var e=t.getComponentsInChildren(cc.RenderComponent),n=0;n<e.length;n++){var o=e[n];this.toGrey(o)}},t.toColorNode=function(t){if(t)for(var e=t.getComponentsInChildren(cc.RenderComponent),n=0;n<e.length;n++){var o=e[n];this.toColor(o)}},t.shuffle=function(t){for(var e,n,o=t.length;o;)n=t[e=Math.floor(Math.random()*o--)],t[e]=t[o],t[o]=n;return t},t.shuffle2=function(t){for(var e=[],n=[],o=t.length/2,r=0;r<t.length;r++)r<=o?e.push(t[r]):n.push(t[r]);return e=this.shuffle(e),n=this.shuffle(n),i(n,e)},t.ilterRepeatStr=function(t){return[].filter.call(t,function(t,e,n){return n.indexOf(t)==e}).join("").toString().replace(/,/g,"")},t.getValue=function(t,e){var n=e.split(".");try{for(var o=t[n[0]],r=1;r<n.length;r++)o=o[n[r]];return o}catch(i){return}},t.animationGotoStart=function(t,e){var n=e;"number"==typeof e&&(n=t.getClips()[e].name),t.play(String(n),0),t.sample(String(n)),t.stop()},t.animationGotoEnd=function(t,e){var n=e,o=e;if("string"==typeof e){for(var r in t.getClips())if(t.getClips()[r].name===e){n=r;break}}else"number"==typeof e&&(o=t.getClips()[e].name);var i=t.getClips()[n].duration;t.play(String(o),i)},t.GetZodiac=function(t,e){var n=[20,19,21,21,21,22,23,23,23,23,22,22],o=t-(e<n[t-1]?1:0),r=t-2<0?11:+(t-2),i=t+1>12?1:+(t+1);return{index:o=12==o?0:o,sZodiac:"\u9b54\u7faf\u6c34\u74f6\u53cc\u9c7c\u7261\u7f8a\u91d1\u725b\u53cc\u5b50\u5de8\u87f9\u72ee\u5b50\u5904\u5973\u5929\u79e4\u5929\u874e\u5c04\u624b\u9b54\u7faf".substr(2*o,2)+"\u5ea7",sBetween:(e<n[t-1]?r+1+"."+n[r]:t+"."+n[t-1])+"-"+(e<n[t-1]?t+"."+(n[o]-1):i+"."+(n[i-1]-1))}},t.getGameDay=function(e){e=t.getDayBeginTime(e);var n=(t.getDayBeginTime(t.getCurTime())-e)%(7*a.GlobalDefines.Second_Day);return Math.floor(n/a.GlobalDefines.Second_Day)+1},t.getWeek=function(e,n){return n=t.getDayBeginTime(n),e=t.getDayBeginTime(e),Math.floor((e-n)/(7e3*a.GlobalDefines.Second_Day))},t.twoPointDistance=function(t,e){var n=t.x,o=t.y,r=e.x-n,i=e.y-o;return Math.pow(r*r+i*i,.5)},t.adaptiveNoteLayout=function(){var t=cc.winSize;cc.log("--\u5f53\u524d\u6e38\u620f\u7a97\u53e3\u5927\u5c0f  w:"+t.width+"   h:"+t.height);var e=cc.view.getFrameSize();cc.log("--\u89c6\u56fe\u8fb9\u6846\u5c3a\u5bf8\uff1aw:"+e.width+"  h:"+e.height);var n=cc.view.getCanvasSize();cc.log("--\u89c6\u56fe\u4e2dcanvas\u5c3a\u5bf8  w:"+n.width+"  H:"+n.height);var o=cc.view.getVisibleSize();cc.log("--\u89c6\u56fe\u4e2d\u7a97\u53e3\u53ef\u89c1\u533a\u57df\u7684\u5c3a\u5bf8 w:"+o.width+"   h:"+o.height);var r=cc.view.getDesignResolutionSize();cc.log("--\u8bbe\u8ba1\u5206\u8fa8\u7387\uff1a"+r.width+"    h: "+r.height)},t.findNodeByName=function(e,n){if(e){var o=e.getChildByName(n);if(o)return o;for(var r=0,i=e.children;r<i.length;r++){var a=i[r];if(o=t.findNodeByName(a,n))return o}return null}return null},t.getAngle=function(t,e){var n=e.x-t.x,o=e.y-t.y;return cc.v2(n,o).signAngle(cc.v2(1,0))/Math.PI*180},t.convertNodeToNodeSpace=function(t,e){if(cc.isValid(t)&&t.parent){var n=t.parent.convertToWorldSpaceAR(t.getPosition());if(cc.isValid(e))return e.convertToNodeSpaceAR(n)}return cc.log("\u5750\u6807\u8f6c\u6362\u6709\u95ee\u9898"),cc.v2(0,0)},t.randomByWeightList=function(e){for(var n=0,o=0;o<e.length;o++)n+=e[o];var r=t.randomFloat(0,n),i=0;for(o=0;o<e.length;o++)if(r<(i+=e[o]))return o;return 0},t.arrayCopy=function(t,e){if(t&&e)for(var n=0;n<t.length;n++){var o=t[n];e.push(o)}},t.changeColor=function(t,e){t.color=(new cc.Color).fromHEX(e)},t.decodeAtoB=function(t){return decodeURIComponent(atob(t))},t.encodeBtoA=function(t){return btoa(encodeURIComponent(t))},t.nextRandomId=function(){for(var e="",n=0;n<8;n++)e+=t.RandomIdString.charAt(Math.floor(Math.random()*t.RandomIdString.length));return e},t.distanceByV2=function(t,e){return t.sub(e).mag()},t.distanceByNode=function(t,e){var n=t.getPosition(),o=e.getPosition();return n.sub(o).mag()},t.getRandomRates=function(t){var e=Array.from({length:t},function(){return Math.random()}),n=e.reduce(function(t,e){return t+e},0);return e.map(function(t){return t/n})},t._btnLock=!1,t.RandomIdString="1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_",t}();n.Utils=s,cc._RF.pop()},{"../common/consts/GlobalDefines":"GlobalDefines","./logger":"logger"}],bl_Config:[function(t,e,n){"use strict";cc._RF.push(e,"c1aeafmJchCIpOozF5ApxOv","bl_Config"),Object.defineProperty(n,"__esModule",{value:!0}),n.bc=n.bl_Config=void 0;var o=function(){function t(){this.guideStep=0,this.maxId=10,this.country="6",this.moneyAbbr="$",this.forceNum=-1}return t.prototype.getEmptyCount=function(t){return t.filter(function(t){return 0==t}).length>2},t.prototype.getForceCfgs=function(t){this.forceCfgs=t},t.Instance=new t,t}();n.bl_Config=o,n.bc=o.Instance,cc._RF.pop()},{}],bl_Logic:[function(t,e,n){"use strict";cc._RF.push(e,"3ffb16hFyNCiZ8W02iaH924","bl_Logic");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../utils/Utils"),l=t("../../common/DataManager"),u=t("../../common/consts/GlobalDefines"),f=t("./bl_ball"),p=t("../../common/Global"),h=t("../../common/GlobalEvents"),d=t("../../utils/logger"),g=t("./bl_Config"),y=t("./bl_tipsPanel"),v=t("../../common/comp/reward/RewardUtils"),b=cc._decorator,_=b.ccclass,m=b.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ico=null,e.bl_list=[],e.bl_dropXs=[],e.bl_cloneDropx=[],e.bl_scList=[],e.isComposeIng=!1,e.currBalls=[],e}return r(e,t),e.prototype.onLoad=function(){this.bl_dropXs=this.bl_initDropX(-this.node.width/2+200,this.node.width/2-200,10)},e.prototype.onEnable=function(){p.GlobalEvent.on(h.EventBallClick.NAME,this.onEventBallClick,this)},e.prototype.onDisable=function(){p.GlobalEvent.off(h.EventBallClick.NAME,this.onEventBallClick,this)},e.prototype.start=function(){},e.prototype.init=function(){return a(this,void 0,void 0,function(){var t,e,n,o;return c(this,function(r){switch(r.label){case 0:this.bl_list=l.dm.player.arr,s.Utils.arrayCopy(this.bl_dropXs,this.bl_cloneDropx),t=0,r.label=1;case 1:return t<this.bl_list.length?(e=this.bl_getPoint(this.bl_list[t]),[4,this.bl_createBall(this.bl_list[t],e,!0)]):[3,4];case 2:n=r.sent(),o=n.getComponent(f.default),this.bl_scList.push(o),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.bl_createBall=function(t,e,n){return a(this,void 0,void 0,function(){var o,r,i;return c(this,function(a){switch(a.label){case 0:return o="prefab/game/ball/"+t,[4,s.Utils.loadPefab(o)];case 1:return r=a.sent(),(i=cc.instantiate(r)).parent=this.node,i.getComponent(f.default).init(t,n),i.setPosition(e),[2,i]}})})},e.prototype.bl_getPoint=function(t){var e=u.GlobalDefines.ScreenHeight/2;e+=200*Math.random()*t;var n=s.Utils.getRandomByArr(this.bl_cloneDropx);return cc.v2(n,e)},e.prototype.bl_initDropX=function(t,e,n){for(var o=(e-t+1)/n,r=[],i=t,a=0;a<n;a++)r.push(i),i+=o;var c=r.filter(function(t){return t>=0}),s=r.filter(function(t){return t<0});return c.sort(function(t,e){return t-e}),s.sort(function(t,e){return e-t}),c.concat(s)},e.prototype.onEventBallClick=function(t){var e=this;if(!this.isComposeIng){var n=this.bl_scList.filter(function(e){return e.rId==t.rId});if(n.length>0){this.currBalls=this.bl_scList.filter(function(e){return e.id==t.id}),this.currTarget=n[0];var o=this.bl_findBall();if(0==o.size)return;var r=Array.from(o);r.sort(function(t,n){return s.Utils.distanceByNode(e.currTarget.node,t.node)-s.Utils.distanceByNode(e.currTarget.node,n.node)}),r.unshift(this.currTarget),this.bl_compose(r),d.Logger.debug("\u5408\u6210\uff1a",r)}}},e.prototype.bl_compose=function(t){return a(this,void 0,void 0,function(){var e,n,o,r,i,a,s,l,u,p=this;return c(this,function(c){switch(c.label){case 0:for(this.isComposeIng=!0,e=[],n=[],t.forEach(function(o,r){r%2==0&&r!=t.length-1?e.push(o):n.push(o)}),u=0;u<n.length;u++)n[u].delete();n=null,this.bl_resetBallList(),o=[],u=0,c.label=1;case 1:return u<e.length?((r=e[u].node)&&r.removeComponent(cc.RigidBody),i=e[u].node.getPosition(),[4,this.bl_createBall(e[u].id+1,i)]):[3,4];case 2:a=c.sent(),s=a.getComponent(f.default),this.bl_scList.push(s),a.scale=0,o.push(s),c.label=3;case 3:return u++,[3,1];case 4:for(l=0,u=0;u<e.length;u++)e[u].playHide(function(){if(++l>=e.length){for(var t=0;t<o.length;t++)o[t].playShow();e=null,p.scheduleOnce(function(){if(p.bl_resetBallList(),o[0].id==g.bc.maxId)for(var t=0;t<o.length;t++){var e=o[t];e.removeRigidbody(),p.flyBest(e.node)}else o.length>1?p.bl_compose(o):(y.default.Show(21),p.flyIco(),p.isComposeIng=!1,p.bl_drop(),p.bl_cacheList())},.2)}});return[2]}})})},e.prototype.bl_cacheList=function(){for(var t=[],e=0;e<this.bl_scList.length;e++)t.push(this.bl_scList[e].id);l.dm.player.arr=t},e.prototype.bl_resetBallList=function(){this.currBalls=[];var t=this.bl_scList.filter(function(t){return t&&!t.isDestory});this.bl_scList=t},e.prototype.bl_findBall=function(){for(var t=this.bl_getCanBall(this.currTarget),e=new Set(t);t.length>0;){for(var n=[],o=0,r=t;o<r.length;o++)for(var i=r[o],a=0,c=this.bl_getCanBall(i);a<c.length;a++){var s=c[a];e.has(s)||(n.push(s),e.add(s))}t=n}return e},e.prototype.bl_getCanBall=function(t){var e=this;return this.currBalls.filter(function(n){return s.Utils.distanceByNode(t.node,n.node)<t.node.width+20&&n.rId!=e.currTarget.rId})},e.prototype.bl_drop=function(){return a(this,void 0,void 0,function(){var t,e,n,o,r,i,a,l,u,p,h,d;return c(this,function(c){switch(c.label){case 0:if((t=this.bl_checkMaxPointY())>this.node.height/2-200)return[2];if(t>this.node.height/4&&s.Utils.randomFloat(0,1)<.5)return[2];for(e=s.Utils.randomInt(1,15),t>this.node.height/4+100&&(e=s.Utils.randomInt(1,10)),n=(n=this.bl_checkMaxId())>3?3:n,o=s.Utils.randomIntInclusive(1,n),r=s.Utils.getRandomRates(o),i=[],a=1;a<=o;a++)i.push(a);a=0,c.label=1;case 1:return a<e?(l=s.Utils.randomByWeightList(r),u=i[l],p=this.bl_getPoint(u),[4,this.bl_createBall(u,p,!0)]):[3,4];case 2:h=c.sent(),d=h.getComponent(f.default),this.bl_scList.push(d),c.label=3;case 3:return a++,[3,1];case 4:return this.bl_cacheList(),[2]}})})},e.prototype.bl_checkMaxId=function(){var t=0;return this.bl_scList.forEach(function(e){e.id>t&&(t=e.id)}),t},e.prototype.bl_checkMaxPointY=function(){var t=0;return this.bl_scList.forEach(function(e){e.node.y>t&&(t=e.node.y)}),t},e.prototype.bl_onRefresh=function(){s.Utils.btnLock()||(this.node.destroyAllChildren(),this.bl_scList=[],this.init())},e.prototype.flyIco=function(){var t=g.bc.top.ico2;v.RewardUtils.resBoomByNode(this.ico,t,10)},e.prototype.flyBest=function(t){var e=g.bc.top.ico1.convertToWorldSpaceAR(cc.v2(0,0)),n=this.node.convertToNodeSpaceAR(e);cc.tween(t).to(.2,{x:0,y:0,scale:1.1}).delay(1).to(.5,{position:n,scale:.5},cc.easeSineIn()).to(.2,{scale:0},cc.easeSineIn()).call(function(){p.GlobalEvent.dispatchEvent(new h.EventChangeTop(2,1))}).start()},i([m(cc.Node)],e.prototype,"ico",void 0),i([_],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../../common/DataManager":"DataManager","../../common/Global":"Global","../../common/GlobalEvents":"GlobalEvents","../../common/comp/reward/RewardUtils":"RewardUtils","../../common/consts/GlobalDefines":"GlobalDefines","../../utils/Utils":"Utils","../../utils/logger":"logger","./bl_Config":"bl_Config","./bl_ball":"bl_ball","./bl_tipsPanel":"bl_tipsPanel"}],bl_ball:[function(t,e,n){"use strict";cc._RF.push(e,"d74faY83gVBFq74+7t4+thB","bl_ball");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/Global"),c=t("../../common/GlobalEvents"),s=t("../../utils/Utils"),l=t("../GameUtils"),u=cc._decorator,f=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb=null,e.eff=null,e.THRESHOLD=.08,e.isDestory=!1,e.isDrop=!1,e}return r(e,t),e.prototype.onLoad=function(){this.rigidbody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){},e.prototype.update=function(){this.lb.angle=-this.node.angle},e.prototype.onClick=function(){s.Utils.btnLock()||a.GlobalEvent.dispatchEvent(new c.EventBallClick(this.id,this.rId))},e.prototype.init=function(t,e){this.isDrop=e,this.id=t,this.rId=s.Utils.nextRandomId()},e.prototype.playHide=function(t){var e=this;this.eff.node.active=!0,l.GameUtils.playCompose(),cc.tween(this.node).delay(0).to(.1,{scale:1.3}).to(.1,{scale:0}).call(function(){t&&t(),e.delete()}).start()},e.prototype.playShow=function(){cc.tween(this.node).to(.1,{scale:1}).start()},e.prototype.removeRigidbody=function(){this.node.removeComponent(cc.RigidBody)},e.prototype.onDestroy=function(){},e.prototype.delete=function(){this.isDestory=!0,this.node.destroy()},i([p(cc.Node)],e.prototype,"lb",void 0),i([p(sp.Skeleton)],e.prototype,"eff",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../common/Global":"Global","../../common/GlobalEvents":"GlobalEvents","../../utils/Utils":"Utils","../GameUtils":"GameUtils"}],bl_tipsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"07798WBMcNMTZDbLlPBzBUn","bl_tipsPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/Global"),l=t("../../common/GlobalEvents"),u=t("../../common/comp/PanelBase"),f=t("../GameUtils"),p=t("./bl_Config"),h=cc._decorator,d=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_num=null,e.num=0,e}var n;return r(e,t),n=e,e.Show=function(t,e){return a(this,void 0,void 0,function(){var o;return c(this,function(r){switch(r.label){case 0:return[4,u.default.ShowPanel(this.Prefab_Name)];case 1:return(o=r.sent())?(o.getComponent(n).init(t,e),f.GameUtils.popView(o),[2]):[2]}})})},e.prototype.onLoad=function(){var t=this;this.lb_num.string=p.bc.moneyAbbr+this.num.toString(),this.scheduleOnce(function(){t.onClose()},1.5)},e.prototype.init=function(t,e){this.callbacks=e,this.num=t},e.prototype.onClose=function(){this.callbacks&&this.callbacks(),s.GlobalEvent.dispatchEvent(new l.EventChangeTop(1,this.num)),this.close()},e.Prefab_Name="prefab/game/ui/bl_tipsPanel",i([g(cc.Label)],e.prototype,"lb_num",void 0),n=i([d],e)}(u.default);n.default=y,cc._RF.pop()},{"../../common/Global":"Global","../../common/GlobalEvents":"GlobalEvents","../../common/comp/PanelBase":"PanelBase","../GameUtils":"GameUtils","./bl_Config":"bl_Config"}],bl_top:[function(t,e,n){"use strict";cc._RF.push(e,"ab3d3iRW4xCjJdkwDFbYQEr","bl_top");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/Global"),c=t("../../common/GlobalEvents"),s=t("./bl_txPanel"),l=cc._decorator,u=l.ccclass,f=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_bestNum1=null,e.lb_bestNum2=null,e.lb_num=null,e.ico1=null,e.ico2=null,e.num1=0,e.num=0,e}return r(e,t),e.prototype.onLoad=function(){this.bl_refrehUI()},e.prototype.start=function(){},e.prototype.onEnable=function(){a.GlobalEvent.on(c.EventChangeTop.NAME,this.onChange,this)},e.prototype.bl_refrehUI=function(){this.lb_num.string=this.num+"",this.lb_bestNum1.string="\u5df2\u5408\u6210 x"+this.num1,this.lb_bestNum2.string=this.num1+""},e.prototype.onChange=function(t){1==t.mtype?this.num+=t.num:this.num1+=t.num,this.bl_refrehUI()},e.prototype.bl_showtx=function(){s.default.Show()},i([f(cc.Label)],e.prototype,"lb_bestNum1",void 0),i([f(cc.Label)],e.prototype,"lb_bestNum2",void 0),i([f(cc.Label)],e.prototype,"lb_num",void 0),i([f(cc.Node)],e.prototype,"ico1",void 0),i([f(cc.Node)],e.prototype,"ico2",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../common/Global":"Global","../../common/GlobalEvents":"GlobalEvents","./bl_txPanel":"bl_txPanel"}],bl_txPanel:[function(t,e,n){"use strict";cc._RF.push(e,"3e5fc4h2hlDc7L1lICiHdKz","bl_txPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/comp/PanelBase"),l=t("../GameUtils"),u=cc._decorator,f=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_num=null,e.lb_tipsNum=null,e.pro=null,e.toggle_content=null,e.ui_tips1=null,e.rich1=null,e.rich2=null,e.ui_tips2=null,e.rich3=null,e.rich4=null,e.rich5=null,e.ui_tips3=null,e.rich6=null,e.rich7=null,e.currIndex=0,e}return r(e,t),e.Show=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,s.default.ShowPanel(this.Prefab_Name)];case 1:return(t=e.sent())?(l.GameUtils.popView(t),[2]):[2]}})})},e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.kiIU_refreshUI()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.kiIU_refreshUI=function(){this.reset()},e.prototype.onToggle=function(t){this.rich1.string="",this.rich2.string="";var e=t.node.name;this.currIndex=Number(e)-1,this.kiIU_refreshUI()},e.prototype.kiIU_onBtnTx=function(){},e.prototype.kiIU_changeRich1=function(){},e.prototype.kiIU_changeRich2=function(){},e.prototype.kiIU_changeRich3=function(){},e.prototype.reset=function(){this.ui_tips1.active=!1,this.ui_tips2.active=!1,this.ui_tips3.active=!1},e.Prefab_Name="prefab/game/ui/bl_txPanel",i([p(cc.Label)],e.prototype,"lb_num",void 0),i([p(cc.Label)],e.prototype,"lb_tipsNum",void 0),i([p(cc.ProgressBar)],e.prototype,"pro",void 0),i([p(cc.Node)],e.prototype,"toggle_content",void 0),i([p(cc.Node)],e.prototype,"ui_tips1",void 0),i([p(cc.RichText)],e.prototype,"rich1",void 0),i([p(cc.RichText)],e.prototype,"rich2",void 0),i([p(cc.Node)],e.prototype,"ui_tips2",void 0),i([p(cc.RichText)],e.prototype,"rich3",void 0),i([p(cc.RichText)],e.prototype,"rich4",void 0),i([p(cc.RichText)],e.prototype,"rich5",void 0),i([p(cc.Node)],e.prototype,"ui_tips3",void 0),i([p(cc.RichText)],e.prototype,"rich6",void 0),i([p(cc.RichText)],e.prototype,"rich7",void 0),i([f],e)}(s.default);n.default=h,cc._RF.pop()},{"../../common/comp/PanelBase":"PanelBase","../GameUtils":"GameUtils"}],bl_txToggle:[function(t,e,n){"use strict";cc._RF.push(e,"b1dcaoxaO1FSYftKozqMwoc","bl_txToggle");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./bl_Config"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_count=null,e}return r(e,t),e.prototype.init=function(t){this.data=t,this.refresh()},e.prototype.onLoad=function(){this.lb_count=this.node.getComponentInChildren(cc.Label)},e.prototype.refresh=function(){this.lb_count.string=a.bc.moneyAbbr+this.data.drawBal},i([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./bl_Config":"bl_Config"}],logger:[function(t,e,n){"use strict";cc._RF.push(e,"c564bGIDhdEs7DC7bFq7AMX","logger");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var r=function(){function t(){}return t.Init=function(t){this.DEBUG_LOG=t},t.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.DEBUG_LOG&&console.log.apply(console,e)},t.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.DEBUG_LOG&&console.warn.apply(console,e)},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,t)},t.assert=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t.DEBUG_LOG&&console.assert.apply(console,o([e,n],r))},t.DEBUG_LOG=!0,t}();n.Logger=r,cc._RF.pop()},{}]},{},["AudioManager","Ball_Main","BasePanel","DataManager","Global","GlobalEvents","PmManager","SaveData","SceneManager","HurryLoading","NumberAction","PanelBase","SceneLoadingUI","RewardUtils","Toast","GlobalDefines","Jumpjump3d","SpriteToHome","GameUtils","BundleResource","BundleResourceList","UIManager","GameConsts","PlayerInfo","SaveDataConfig","LoadingScene","Ball_MainScene","bl_Config","bl_Logic","bl_ball","bl_tipsPanel","bl_top","bl_txPanel","bl_txToggle","LanguageData","LocalizedLabel","LocalizedSprite","DataModule","GameModule","PlayerModule","TypeDefine","Coin","Game","MergeScene","Slot","Define","Uimanager","TouchEffect","EventManager","NewUtils","AniUtil","SDKManager","Utils","logger"]);
{"version":3,"sources":["assets/script/utils/AniUtil.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import SpriteToHome from \"../common/effect/SpriteToHome\";\nimport { ui } from \"../game/common/UIManager\";\nimport { GameUtils } from \"../game/GameUtils\";\nimport { Utils } from \"./Utils\";\n\nexport class AniUtil {\n    public static JumpTo2(player: cc.Node, wPosOfTarget: cc.Vec2, top: number = 300, scaleFrom: number = 1, scaleTo: number = 1, effboom: boolean = false, end?: Function) {\n        let wPosOfPlayer = player.convertToWorldSpaceAR(cc.v2(0, 0));\n        let wPosOfStart = cc.v2(wPosOfPlayer.x, wPosOfTarget.y);\n\n        let skin_x = new cc.Node(\"skin_x\");\n        skin_x.position = wPosOfStart;\n        ui.addEffectAR(skin_x);\n\n        let skin_y = new cc.Node(\"skin_y\");\n        skin_y.position = cc.v2(0, wPosOfPlayer.y - wPosOfTarget.y);\n        skin_y.parent = skin_x;\n\n        let cloneIcon = cc.instantiate(player);\n        cloneIcon.active = true;\n        cloneIcon.scale = scaleFrom;\n        cloneIcon.position = cc.v2(0, 0);\n        cloneIcon.parent = skin_y;\n\n        let step = 3;\n        let tryRemoveClone = () => {\n            if (--step <= 0) {\n                end && end();\n                if (effboom) {\n                    GameUtils.addEffBoom(wPosOfTarget);\n                }\n                Utils.removeNode(skin_x);\n            }\n        }\n\n        let tx = skin_x.x + (wPosOfTarget.x - wPosOfStart.x);\n        let ty = skin_y.y < 0 ? top : skin_y.y + top;//起点位置与终点位置谁高谁低\n\n        cc.tween(skin_x).to(0.5, { x: tx })\n            .call(() => {\n                tryRemoveClone();\n            })\n            .start();\n        cc.tween(skin_y)\n            .to(0.25, { y: ty }, { easing: cc.easing.sineOut })\n            .to(0.25, { y: 0 }, { easing: cc.easing.sineIn })\n            .call(() => {\n                tryRemoveClone();\n            }).start();\n        cc.tween(cloneIcon)\n            .to(0.5, { scale: scaleTo })\n            // .to(0.3, { scale: scaleFrom })\n            .call(() => {\n                tryRemoveClone();\n            })\n            .start();\n    }\n\n    public static JumpTo(player: cc.Node, wPosOfTarget: cc.Vec2, scale: number = 1, soundEffcet: Function, easingBack: boolean = false) {\n        let wPosOfPlayer = player.convertToWorldSpaceAR(cc.v2(0, 0));\n        let wPosOfStart = cc.v2(wPosOfPlayer.x, wPosOfTarget.y);\n\n        let cloneIcon = cc.instantiate(player);\n        cloneIcon.position = cc.v2(0, wPosOfPlayer.y - wPosOfTarget.y);\n        cloneIcon.scale = scale;\n        let skin = new cc.Node(\"skin\");\n        skin.addChild(cloneIcon);\n        skin.position = wPosOfStart;\n        ui.addEffectAR(skin);\n\n        let step = 2;\n        let tryRemoveClone = () => {\n            if (--step <= 0) {\n                soundEffcet && soundEffcet();\n                skin.removeFromParent();\n            }\n        }\n\n        let tx = skin.x + (wPosOfTarget.x - wPosOfStart.x);\n        let ty = cloneIcon.y < 0 ? 300 : cloneIcon.y + 300;//起点位置与终点位置谁高谁低\n        cc.tween(skin).to(0.6, { x: tx })\n            .call(() => {\n                tryRemoveClone();\n            })\n            .start();\n        if (easingBack) {\n            cc.tween(cloneIcon)\n                .to(0.3, { y: ty }, { easing: cc.easing.sineOut })\n                .to(0.3, { y: -50, scale: 1 }, { easing: cc.easing.sineIn })\n                .to(0.2, { y: 10, scale: 1 }, { easing: cc.easing.sineOut })\n                .to(0.15, { y: 0, scale: 1 }, { easing: cc.easing.sineOut })\n                .call(() => {\n                    tryRemoveClone();\n                })\n                .start();\n        } else {\n            cc.tween(cloneIcon)\n                .to(0.3, { y: ty }, { easing: cc.easing.sineOut })\n                .to(0.3, { y: 0, scale: 1 }, { easing: cc.easing.sineIn })\n                .call(() => {\n                    tryRemoveClone();\n                })\n                .start();\n        }\n    }\n\n\n    /**\n   * 收获金币或钻石的特效\n   * @param spriteFrames \n   * @param targetNode \n   */\n    public static createEffectSpriteHome(startNode: cc.Node, targetNode: cc.Node, spriteFrames: Array<cc.SpriteFrame>, callback: Function, num: number = 5, scale: number = 1) {\n        let effNum = num//Utils.randomInt(num, num * 2);\n        let startBattleWorldPos = startNode.convertToWorldSpaceAR(cc.v2(0, 0));\n        let worldEndPos = targetNode.convertToWorldSpaceAR(new cc.Vec2(0, 0));\n        for (let i = 0; i < effNum; i++) {\n            let time = Utils.randomInt(0, 300);\n            setTimeout(() => {\n                let index = Utils.randomInt(0, spriteFrames.length);\n                let frame = spriteFrames[index];\n                SpriteToHome.create(frame, cc.v2(startBattleWorldPos.x, startBattleWorldPos.y), worldEndPos, false, callback, scale);\n            }, time);\n        }\n    }\n    // /**\n    //  * 入库的金币\n    //  * @param startNode 起始点\n    //  */\n    // public static effectCollectCoins(startNode: cc.Node,targetNode:cc.Node) {\n    //     if (!startNode) {\n    //         // startNode = new cc.Node();\n    //         // startNode.x = 0;\n    //         // startNode.y = 0;\n    //         // ui.node_effect.addChild(startNode);\n    //         // this.createEffectSpriteHome(startNode, UIManager.instance.topResView.icon_coin, UIManager.instance.spriteFramesManager.coins, () => {\n\n    //         // });\n    //         // startNode.removeFromParent();\n    //     } else {                    \n\n    //         let frames = [startNode.getComponent(cc.Sprite).spriteFrame];\n    //         this.createEffectSpriteHome(startNode, targetNode, frames, () => {\n    //         });\n    //     }\n    //     setTimeout(() => {\n    //         Utils.PlayCoinsFlySound(3);\n    //     }, 1000);\n    // }\n    //     /**\n    //      * 入库的钻石\n    //      * @param startNode 起始点\n    //      */\n    //     public static effectCollectDiamond(startNode: cc.Node) {\n    //         if (!startNode) {\n    //             startNode = new cc.Node();\n    //             startNode.x = 0;\n    //             startNode.y = 0;\n    //             UIManager.instance.node_effect.addChild(startNode);\n    //             this.createEffectSpriteHome(startNode, UIManager.instance.topResView.icon_diamond, UIManager.instance.spriteFramesManager.diamonds, () => {\n    //                 //播放钻石入库音效\n    //             });\n    //             startNode.removeFromParent();\n    //         } else {\n    //             this.createEffectSpriteHome(startNode, UIManager.instance.topResView.icon_diamond, UIManager.instance.spriteFramesManager.diamonds, () => {\n    //                 //播放钻石入库音效\n    //             });\n    //         }\n    //         setTimeout(() => {\n    //             Utils.PlayCoinsFlySound(3);\n    //         }, 1000);\n    //     }\n    public static aniWillShow(node: cc.Node) {\n        node.opacity = 0;\n        node.scale = 0.7;\n    }\n    public static aniShow(node: cc.Node, next?: Function) {\n        node.stopAllActions();\n        node.scale = 0.3;\n        cc.tween(node).to(0.3, { opacity: 255, scale: 1 }, { easing: cc.easing.backOut })\n            .call(() => {\n                next && next();\n            })\n            .start();\n    }\n    public static aniHide(node: cc.Node, next?: Function) {\n        node.stopAllActions();\n        cc.tween(node).to(0.3, { opacity: 0, scale: 0.3 }, { easing: cc.easing.sineOut })\n            .call(() => {\n                next && next();\n            })\n            .start();\n    }\n\n    public static aniShaking(node: cc.Node, isReprat = true) {\n        node.stopAllActions();\n        node.angle = 0;\n        if (isReprat) {\n\n            cc.tween(node)\n                .repeatForever(\n                    cc.tween(node)\n                        .to(0.1, { angle: -8 }, { easing: cc.easing.sineOut })\n                        .to(0.1, { angle: 5 }, { easing: cc.easing.sineOut })\n                        .to(0.1, { angle: -3 }, { easing: cc.easing.sineOut })\n                        .to(0.1, { angle: 1.5 }, { easing: cc.easing.sineOut })\n                        .to(0.1, { angle: 0 }, { easing: cc.easing.sineOut })\n                        .delay(0.5)\n                )\n                .start();\n        } else {\n            cc.tween(node)\n                .to(0.1, { angle: -8 }, { easing: cc.easing.sineOut })\n                .to(0.1, { angle: 5 }, { easing: cc.easing.sineOut })\n                .to(0.1, { angle: -3 }, { easing: cc.easing.sineOut })\n                .to(0.1, { angle: 1.5 }, { easing: cc.easing.sineOut })\n                .to(0.1, { angle: 0 }, { easing: cc.easing.sineOut })\n                .delay(0.5)\n                .start();\n        }\n    }\n    public static aniHeart(node: cc.Node, cyc: number = 0.2, constant?: boolean) {\n        node.stopAllActions();\n        node.angle = 0;\n        cc.tween(node)\n            .repeatForever(\n                cc.tween(node)\n                    .to(constant ? cyc : cyc / 2, { scale: 1.2 }, { easing: cc.easing.sineOut })\n                    .to(cyc, { scale: 1 }, { easing: cc.easing.sineOut })\n                    .delay(constant ? 0 : 0.5)\n            )\n            .start();\n    }\n\n    public static aniHeartHappy(node: cc.Node) {\n        node.stopAllActions();\n        let by = node.y;\n        let ty = node.y + 30;\n        cc.tween(node)\n            .repeatForever(\n                cc.tween(node)\n                    .to(0.1, { scaleX: 1.1, scaleY: 0.8 }, { easing: cc.easing.sineOut })\n                    .to(0.1, { scaleX: 1, scaleY: 1, y: ty }, { easing: cc.easing.sineOut })\n                    .to(0.1, { scaleX: 1, scaleY: 1, y: by }, { easing: cc.easing.sineIn })\n                    .to(0.1, { scaleX: 1.1, scaleY: 0.8 }, { easing: cc.easing.sineOut })\n                    .to(0.1, { scaleX: 1, scaleY: 1 }, { easing: cc.easing.sineIn })\n                    .delay(0.2)\n            )\n            .start();\n    }\n    public static aniDou(node: cc.Node, next?: Function) {\n        cc.tween(node)\n            .to(0.1, { scaleY: 1.4, scaleX: 0.7 }, { easing: cc.easing.sineOut })\n            .to(0.05, { scaleY: 0.9, scaleX: 1.1 }, { easing: cc.easing.sineOut })\n            .to(0.08, { scaleY: 1.1, scaleX: 0.9 }, { easing: cc.easing.sineOut })\n            .to(0.08, { scaleY: 1, scaleX: 1 }, { easing: cc.easing.sineOut })\n            .call(() => {\n                next && next();\n            })\n            .start();\n    }\n    public static aniShakeHead(node: cc.Node, next?: Function) {\n        cc.tween(node)\n            .to(0.05, { x: -6 }, { easing: cc.easing.sineOut })\n            .to(0.08, { x: 6 }, { easing: cc.easing.sineOut })\n            .to(0.07, { x: -5 }, { easing: cc.easing.sineOut })\n            .to(0.06, { x: 4 }, { easing: cc.easing.sineOut })\n            .to(0.05, { x: -3 }, { easing: cc.easing.sineOut })\n            .to(0.04, { x: 2 }, { easing: cc.easing.sineOut })\n            .to(0.03, { x: -1 }, { easing: cc.easing.sineOut })\n            .to(0.02, { x: 0 }, { easing: cc.easing.sineOut })\n            .call(() => {\n                next && next();\n            })\n            .start();\n    }\n\n    //上下浮动\n    public static aniUpDown(node: cc.Node, time: number = 0.5, y: number = 20): void {\n        if (cc.isValid(node)) {\n            node.stopAllActions();\n            let pos = cc.v2(node.x, node.y)\n            cc.tween(node)\n                .repeatForever(\n                    cc.tween(node)\n                        .to(time, { y: pos.y + y })\n                        .to(time, { y: pos.y })\n                )\n                .start();\n        }\n    }\n    //\n    public static rotation(node: cc.Node, time: number = 0.5): void {\n        if (cc.isValid(node)) {\n            node.stopAllActions();\n            cc.tween(node)\n                .repeatForever(\n                    cc.tween(node)\n                        .to(time, { angle: 360 })\n                        .to(0, { angle: 0 })\n                )\n                .start();\n        }\n    }\n}\n"]}
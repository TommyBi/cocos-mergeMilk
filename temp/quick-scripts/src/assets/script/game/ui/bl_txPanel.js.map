{"version":3,"sources":["assets/script/game/ui/bl_txPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport BasePanel from \"../../common/BasePanel\";\nimport { dm } from \"../../common/DataManager\";\nimport { GlobalEvent } from \"../../common/Global\";\nimport PanelBase from \"../../common/comp/PanelBase\";\nimport { LocalizedLabel } from \"../../lang/LocalizedLabel\";\nimport SDKManager from \"../../utils/SDKManager\";\nimport { GameUtils } from \"../GameUtils\";\nimport { bc } from \"./bl_Config\";\nimport WithdrawalToggle from \"./bl_txToggle\";\n\nconst { ccclass, property } = cc._decorator;\n\nexport type tx_cfg = {\n    nowLogDays: number;//当前登录天数\n    nowLevel: number;//当前等级\n    todayGates: number;//今天消除次数\n    nowBalShow: string;//当前余额\n    actCountCfg: number;//用于计算当天完成多少消除才算1天\n    nextLvCount: number;//下一等级需要达到的总数\n    showList: tx_list[]\n\n}\n\nexport type tx_list = {\n    id: number//提现对应ID\n    drawBal: string // 提现目标\n    needBal: string // 需要达到的余额\n    newerTag: number // 是否是新人提现，1是 2其它提现\n    left: number//剩余可提现次数\n    needDays: number//需要达到的登录天数\n    needLevel: number//需要达到的等级\n}\n\n@ccclass\nexport default class bl_txPanel extends PanelBase {\n\n    public static Prefab_Name = \"prefab/game/ui/bl_txPanel\";\n    public static async Show() {\n        let insNode: cc.Node = await PanelBase.ShowPanel(this.Prefab_Name);\n        if (!insNode) {\n            return;\n        }\n        GameUtils.popView(insNode);\n    }\n\n    @property(cc.Label)\n    lb_num: cc.Label = null;\n    @property(cc.Label)\n    lb_tipsNum: cc.Label = null;\n\n    @property(cc.ProgressBar)\n    pro: cc.ProgressBar = null;\n    @property(cc.Node)\n    toggle_content: cc.Node = null;\n\n    @property(cc.Node)\n    ui_tips1: cc.Node = null;\n    @property(cc.RichText)\n    rich1: cc.RichText = null;\n    @property(cc.RichText)\n    rich2: cc.RichText = null;\n\n    @property(cc.Node)\n    ui_tips2: cc.Node = null;\n    @property(cc.RichText)\n    rich3: cc.RichText = null;\n    @property(cc.RichText)\n    rich4: cc.RichText = null;\n    @property(cc.RichText)\n    rich5: cc.RichText = null;\n\n    @property(cc.Node)\n    ui_tips3: cc.Node = null;\n    @property(cc.RichText)\n    rich6: cc.RichText = null;\n    @property(cc.RichText)\n    rich7: cc.RichText = null;\n\n\n    // LIFE-CYCLE CALLBACKS:\n    currIndex = 0;\n\n    showList: tx_list[];\n    currData: tx_list;\n    onLoad() {\n        this.init();\n    }\n\n    init() {\n        // this.showList = bc.drawData.showList;\n        // for (let i = 0; i < this.toggle_content.childrenCount; i++) {\n        //     let node = this.toggle_content.children[i];\n        //     let toggle = node.addComponent(WithdrawalToggle);\n        //     toggle.init(this.showList[i]);\n        // }\n\n        // this.lb_num.string = bc.moneyAbbr + bc.drawData.nowBalShow;\n        this.kiIU_refreshUI();\n    }\n\n    protected onEnable(): void {\n    }\n    protected onDisable(): void {\n\n    }\n\n    kiIU_refreshUI() {\n        this.reset();\n        // this.currData = this.showList[this.currIndex];\n        // let now = parseFloat(bc.drawData.nowBalShow)\n        // let curr = parseFloat(this.currData.drawBal)\n        // if (now < curr) {\n        //     this.ui_tips1.active = true;\n        //     this.pro.progress = now / curr;\n        //     this.lb_tipsNum.string = bc.moneyAbbr + curr;\n        //     this.rich1.getComponent(LocalizedLabel).key = \"condition1\";\n        //     this.rich1.getComponent(LocalizedLabel).fetchRender();\n        //     this.rich2.getComponent(LocalizedLabel).key = \"current1\";\n        //     this.rich2.getComponent(LocalizedLabel).fetchRender();\n        //     this.scheduleOnce(() => {\n        //         this.kiIU_changeRich1();\n        //     }, .1)\n        // } else {\n        //     let nowDay = Number(bc.drawData.nowLogDays)\n        //     let currDay = Number(this.currData.needDays)\n        //     if (nowDay < currDay) {\n        //         this.ui_tips2.active = true;\n        //         this.rich3.getComponent(LocalizedLabel).key = \"condition2\";\n        //         this.rich3.getComponent(LocalizedLabel).fetchRender();\n        //         this.rich4.getComponent(LocalizedLabel).key = \"current2\";\n        //         this.rich4.getComponent(LocalizedLabel).fetchRender();\n        //         this.rich5.getComponent(LocalizedLabel).key = \"xc\";\n        //         this.rich5.getComponent(LocalizedLabel).fetchRender();\n        //         this.scheduleOnce(() => {\n        //             this.kiIU_changeRich2();\n        //         }, .1)\n        //         // this.pro.progress = nowDay / currDay;\n        //     } else {\n        //         let nowLv = Number(bc.drawData.nowLevel)\n        //         let currLv = Number(this.currData.needLevel)\n\n        //         if (nowLv < currLv) {\n        //             this.ui_tips3.active = true;\n        //             this.rich6.getComponent(LocalizedLabel).key = \"condition3\";\n        //             this.rich6.getComponent(LocalizedLabel).fetchRender();\n        //             this.rich7.getComponent(LocalizedLabel).key = \"current3\";\n        //             this.rich7.getComponent(LocalizedLabel).fetchRender();\n        //             this.scheduleOnce(() => {\n        //                 this.kiIU_changeRich3();\n        //             }, .1)\n        //             this.pro.progress = nowLv / currLv;\n        //         }\n        //     }\n        // }\n\n    }\n\n    onToggle(evt: cc.Toggle) {\n        this.rich1.string = \"\";\n        this.rich2.string = \"\";\n        let toggleName = evt.node.name;\n        this.currIndex = Number(toggleName) - 1;\n        this.kiIU_refreshUI();\n    }\n\n    kiIU_onBtnTx() {\n        // if (dm.player.isFirstTx) {\n        //     SDKManager.kiIU_gohpVcbaclok();\n        //     dm.player.isFirstTx = 0;\n        // } else {\n        //     let cfg = GameManager.instance.config;\n        //     let tips = \"\"\n\n        //     if (bc.country == \"2\") {\n\n        //         tips = cfg.json.language['pt'].tips2;\n        //     } else if (bc.country == \"13\") {\n        //         tips = cfg.json.language['in'].tips2;\n        //     } else {\n        //         tips = cfg.json.language['en'].tips2;\n        //     }\n        //     GameUtils.showToast(tips);\n        // }\n    }\n\n    kiIU_changeRich1() {\n        // let now = Number(bc.drawData.nowBalShow)\n        // let curr = Number(this.currData.drawBal)\n\n\n        // let str1 = this.rich1.string;\n        // str1 = str1.replace(/\\$/g, bc.moneyAbbr)\n        // str1 = str1.replace(/\\!/g, this.currData.drawBal)\n\n        // this.rich1.string = str1;\n\n        // let str2 = this.rich2.string;\n        // str2 = str2.replace(/\\$/g, bc.moneyAbbr)\n        // str2 = str2.replace(/\\!/g, bc.drawData.nowBalShow)\n        // str2 = str2.replace(/\\*/g, (curr - now).toFixed(2))\n        // this.rich2.string = str2;\n    }\n    kiIU_changeRich2() {\n        // let now = Number(bc.drawData.nowLogDays)\n        // let curr = Number(this.currData.needDays)\n\n\n        // let str1 = this.rich3.string;\n        // str1 = str1.replace(/\\!/g, this.currData.needDays + \"\")\n        // str1 = str1.replace(/\\*/g, bc.drawData.actCountCfg + \"\")\n\n        // this.rich3.string = str1;\n\n        // let str2 = this.rich4.string;\n        // str2 = str2.replace(/\\!/g, bc.drawData.nowLogDays + \"\")\n        // this.rich4.string = str2;\n\n        // let str3 = this.rich5.string;\n        // str3 = str3.replace(/\\!/g, bc.drawData.todayGates + \"\")\n        // this.rich5.string = str3;\n    }\n    kiIU_changeRich3() {\n        // let now = Number(bc.drawData.nowLevel)\n        // let curr = Number(this.currData.needLevel)\n\n\n        // let str1 = this.rich6.string;\n        // str1 = str1.replace(/\\!/g, this.currData.needLevel + \"\")\n\n        // this.rich6.string = str1;\n\n        // let str2 = this.rich7.string;\n        // str2 = str2.replace(/\\!/g, bc.drawData.nowLevel + \"\")\n        // str2 = str2.replace(/\\*/g, (curr - now) + \"\")\n        // this.rich7.string = str2;\n    }\n\n    reset() {\n\n        this.ui_tips1.active = false;\n        this.ui_tips2.active = false;\n        this.ui_tips3.active = false;\n    }\n\n    // update (dt) {}\n}\n"]}
{"version":3,"sources":["assets/script/lang/LocalizedSprite.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,qCAAuC;AAEjC,IAAA,KAAwC,EAAE,CAAC,UAAU,EAApD,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAC,iBAAiB,uBAAiB,CAAC;AAG5D;IAAA;QAGI,aAAQ,GAAW,IAAI,CAAC;QAExB,gBAAW,GAA0B,IAAI,CAAC;IAE9C,CAAC;IAJG;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yDACI;IAExB;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;4DACiB;IALxC,mBAAmB;QADxB,OAAO,CAAC,qBAAqB,CAAC;OACzB,mBAAmB,CAOxB;IAAD,0BAAC;CAPD,AAOC,IAAA;AAID;IAAqC,mCAAY;IAAjD;QAAA,qEAmCC;QAlCG,YAAM,GAAqB,IAAI,CAAC;QAGhC,gBAAU,GAAyB,EAAE,CAAC;;IA+B1C,CAAC;IA7BG,gCAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnB;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,qCAAW,GAAX;QACI,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAc,CAAC;QACzD,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,OAAO;SACV;IACL,CAAC;IAED,sCAAY,GAAZ;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC7C,IAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAChC,aAAa;YACb,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,SAAS,EAAE;gBAClC,aAAa;gBACb,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;oBACrB,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;iBAC9C;gBACD,MAAM;aACT;SACJ;IACL,CAAC;IA9BD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAE,mBAAmB,EAAC,YAAY,EAAC,IAAI,EAAC,CAAC;uDAClB;IAJ7B,eAAe;QAF3B,OAAO;QACP,iBAAiB;OACL,eAAe,CAmC3B;IAAD,sBAAC;CAnCD,AAmCC,CAnCoC,EAAE,CAAC,SAAS,GAmChD;AAnCY,0CAAe","file":"","sourceRoot":"/","sourcesContent":["\nimport * as i18n from './LanguageData';\n\nconst {ccclass, property,executeInEditMode} = cc._decorator;\n\n@ccclass(\"LocalizedSpriteItem\")\nclass LocalizedSpriteItem \n{\n    @property(cc.String)\n    language: string = 'zh';\n    @property(cc.SpriteFrame)\n    spriteFrame: cc.SpriteFrame | null = null;\n\n}\n\n@ccclass\n@executeInEditMode\nexport class LocalizedSprite extends cc.Component {\n    sprite: cc.Sprite | null = null;\n\n    @property({type: LocalizedSpriteItem,serializable:true})\n    spriteList:LocalizedSpriteItem[] = [];\n\n    onLoad() {\n        if (!i18n.ready) {\n            i18n.init('zh');\n        }\n        this.fetchRender();\n    }\n\n    fetchRender () {\n        let sprite = this.getComponent('cc.Sprite') as cc.Sprite;\n        if (sprite) {\n            this.sprite = sprite;\n            this.updateSprite();\n            return;\n        } \n    }\n\n    updateSprite () {\n        for (let i = 0; i < this.spriteList.length; i++) {\n            const item = this.spriteList[i];\n            // @ts-ignore\n            if (item.language === i18n._language) {\n                // @ts-ignore\n                if (this.sprite && item) {\n                    this.sprite.spriteFrame = item.spriteFrame;    \n                }\n                break;\n            }\n        }\n    }\n}\n"]}
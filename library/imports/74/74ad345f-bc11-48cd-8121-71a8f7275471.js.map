{"version":3,"sources":["assets/script/game/GameUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { sd } from \"../common/AudioManager\";\nimport Toast, { TipIco } from \"../common/comp/toast/Toast\";\nimport { dm } from \"../common/DataManager\";\nimport Ball_Main from \"../common/Ball_Main\";\nimport { SceneType, sm } from \"../common/SceneManager\";\nimport { Utils } from \"../utils/Utils\";\nimport { ui, UILayer } from \"./common/UIManager\";\n\nexport class GameUtils {\n    static get popLayer() {\n        return ui.getLayer(UILayer.Panel);\n    }\n    static get effectLayer() {\n        return ui.getLayer(UILayer.Effect);\n    }\n    static get loadingLayer() {\n        return ui.getLayer(UILayer.LoadingBar);\n    }\n    static get bannerLayer() {\n        return ui.getLayer(UILayer.Banner);\n    }\n\n    static get xLayer() {\n        return ui.getLayer(UILayer.X);\n    }\n\n    static popView(view: cc.Node, insert: boolean = false) {\n        ui.popView(view, insert);\n    }\n\n    static addEffectAR(node) {\n        ui.addEffectAR(node);\n    }\n\n    static playClick() {\n        this.playSFX(\"click\");//(\"Button_click\");\n    }\n    static playDrop() {\n        this.playSFX(\"drop\");//(\"Button_click\");\n    }\n\n    static playCompose() {\n        this.playSFX(\"compose\")\n    }\n\n    static playFlyCoin() {\n        this.playSFX(\"rise_1\")\n    }\n    static playSFX(sndName: string, ext: string = \".mp3\") {\n        sd.playSFX(`sounds/${sndName}`, 1, ext);\n    }\n\n    static showToast(context: string, ico?: TipIco) {\n        Toast.show(ui.getLayer(UILayer.Tip), context, ico ? ico : TipIco.Tip);\n    }\n\n    static showToast_noCoin() {\n        this.showToast(\"金币不足\", TipIco.Coin);\n    }\n\n\n    static addEffBoom(wpos: cc.Vec2) {\n        let boom = cc.instantiate(Ball_Main.instance.resList.prefab_eff_boom);\n        boom.position = wpos;\n        GameUtils.addEffectAR(boom);\n        setTimeout(() => {\n            Utils.removeNode(boom)\n        }, 3000);\n    }\n\n    static async loadConfigFromAli(fileName: string) {\n        // let url = `${GameConfig.OSS_URL_BASE}${fileName}.json`;//${Math.random()}\n        // return Utils.loadConfigFromAli(url);\n    }\n\n    static createNodeByFrame(frame: cc.SpriteFrame, scale: number, url?: string) {\n        let node = new cc.Node();\n        let ico = new cc.Node();\n        ico.scale = scale;\n        ico.parent = node;\n        let spr = ico.addComponent(cc.Sprite);\n        spr.spriteFrame = frame;\n        spr.sizeMode = cc.Sprite.SizeMode.RAW;\n        if (url) {\n            Utils.updateNodeSpriteFrame(url, ico, false);\n        }\n        return node;\n    }\n}\n"]}